{"version":3,"sources":["store/reducers/imgList.js","store/reducers/listWithTag.js","store/reducers/showType.js","utils/api.js","models/index.js","utils/functions.js","store/reducers/collectList.js","configs/config.js","store/reducers/selectApi.js","store/index.js","store/actions/index.js","components/Button/index.js","components/FloatList/index.js","pages/Top/Top.js","components/BoxborderResizer/index.js","components/Dialog/Dialog.js","components/DatePicker/index.js","pages/SideBar/index.js","assets/loading.gif","components/HoverMenu/index.js","components/ImageBox/index.js","components/ImageList/index.js","pages/Img/Img.js","pages/Loading/index.js","pages/IndexPage/index.js","pages/SearchPage/index.js","pages/CollectionPage/index.js","pages/RandomPage/index.js","pages/PopPage/index.js","App.js","index.js"],"names":["initialState","imgList","currentPage","searchVal","hasTag","showType","isShow","scrollTop","axiosGet","options","axios","api","url","then","res","success","data","catch","err","error","getImgList","current","limit","Promise","resolve","reject","getSelectedImgList","tag","page","getSearchRes","value","getRandomList","getPopList","date","defaults","crossDomain","collections","arr","i","localStorage","length","getKey","key","getValue","JSON","parse","getItem","flat","addCollection","setItem","stringify","downloadPicture","image","a","document","createElement","href","jpeg_url","setAttribute","filename","id","download","click","getCollectList","collectList","collectIds","collect","push","getDateFormat","time","Date","year","getFullYear","mon","getMonth","getDate","urlList","name","allReducers","combineReducers","img","state","action","type","listWithTag","store","createStore","applyMiddleware","ReduxThunk","window","Store","changeShowType","changeIsShow","collectionManager","changeImgList","changePage","Button","info","fn","className","onClick","e","onMouseEnter","eDom","target","rect","getBoundingClientRect","startCarousel","width","setTimeout","addEventListener","onHover","onMouseLeave","removeAttribute","offHover","FloatList","position","list","useState","container","listDom","useRef","style","top","y","pageYOffset","left","x","wh","innerHeight","height","styles","styleSheets","insertRule","useEffect","body","appendChild","removeChild","deleteRule","createPortal","ref","map","item","memo","Top","pageOffset","useSelector","setValue","ideaList","setIdeaList","ideaVisable","setIdeaVisable","dispatch","useDispatch","history","useHistory","setPosition","defaultList","fetchList","changeOffset","querySelector","blur","removeEventListener","onSearch","location","pathname","console","log","activeDom","classList","remove","viewBox","version","xmlns","d","fill","p-id","onChange","changeApi","placeholder","onFocus","right","bottom","onBlur","handleChange","onKeyPress","which","preventDefault","CN","BoxborderResizer","setWidth","isActive","setIsActive","onMouseDown","start","clientX","onDrag","absChange","newValue","Math","max","min","onDragEnd","Dialog","showDialog","setShowDialog","title","message","confirm","onCancel","fontSize","alt","src","DatePicker","setDate","marginRight","stopPropagation","setPopDate","SideBar","breeds","setBarWidth","sideWidth","setSideWidth","isExpanded","setisExpanded","slectId","setSelectId","showDatePicker","setShowDatePicker","includes","t","clear","reload","Object","keys","breed","onSelect","hoverImgIds","HoverMenu","btnList","up","btn","btnInfo","btnFn","ImageBox","isSelected","isCollected","showHoverMenu","setShowHoverMenu","isHover","setIsHover","listPosition","setListPosition","setBtnList","showTags","setShowTags","showImg","setShowImg","tags","setTags","boxDom","menuAction","imageDom","removeItem","tagList","imgTags","split","getEachImgTag","innerWidth","onLoad","getAttribute","loading","data-src","preview_url","sample_url","ImageList","taglist","setTaglist","setStyle","liDom","background","showPic","tagFn","Img","images","barWidth","setShowLoading","listPage","setListPage","setLoading","mainDom","loaction","marginLeft","shouldchange","isNeedScroll","getFn","mouseWheel","pathArr","pop","path","join","newList","scrollTo","behavior","wait","timer","context","this","args","arguments","clearTimeout","apply","debounce","deltaY","clientHeight","flexDirection","alignItems","Loading","IndexPage","showLoading","setLimit","floor","SearchPage","useParams","substr","indexOf","selectdedList","CollectionPage","RandomPage","PopPage","dateSplit","App","isLoading","imgTagMap","getImgTagMap","basename","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7b3bc7b5.chunk.js","sourcesContent":["const initialState = {\r\n    imgList: [],\r\n    currentPage: 1,\r\n    searchVal: ''\r\n}\r\n\r\nexport default function imgListReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'CHANGE_IMGLIST':\r\n            return {\r\n                ...state,\r\n                imgList: action.imgList\r\n            }\r\n\r\n\r\n        case 'CHANGE_PAGE':\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n\r\n\r\n        case 'CHANGE_SEARCH_VAL':\r\n            return {\r\n                ...state,\r\n                searchVal: action.searchVal\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState ={\r\n    hasTag: []\r\n}\r\n\r\nexport default function listWithTagReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'HAS_TAG':\r\n                return {\r\n                    ...state,\r\n                    hasTag: action.hasTag\r\n                }\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    showType: 'grid',\r\n    isShow: false,\r\n    scrollTop: 0,\r\n}\r\n\r\nexport default function showTypeReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SHOW_TYPE':\r\n            return {\r\n                ...state,\r\n                showType: action.showType\r\n            }\r\n\r\n        case 'IS_SHOW':\r\n            return {\r\n                ...state,\r\n                isShow: action.isShow\r\n            }\r\n\r\n        case 'SCROLL_TOP':\r\n            return {\r\n                ...state,\r\n                scrollTop: action.scrollTop\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import axios from 'axios';\r\n\r\naxios.defaults.crossDomain = true;\r\n\r\nfunction axiosGet(options) {\r\n\r\n    axios(\"https://moepics-proxy.herokuapp.com/\" + options.api + options.url)\r\n        .then(res => {\r\n            options.success(res.data)\r\n        })\r\n        .catch(err => {\r\n            options.error(err)\r\n        })\r\n}\r\n\r\nexport { axiosGet }","import { axiosGet } from '../utils/api'\r\n\r\nfunction getImgList(api, current, limit) {\r\n    return new Promise((resolve, reject) => {\r\n        axiosGet({\r\n            api: api,\r\n            url: '/post.json?page=' + current + '&tags=rating:safe&limit=' + limit,\r\n            success(data) {\r\n                resolve(data)\r\n            },\r\n            error(err) {\r\n                reject(err)\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nfunction getSelectedImgList(api, tag, page, limit) {\r\n    return new Promise((resolve, reject) => {\r\n        axiosGet({\r\n            api: api,\r\n            url: '/post.json?page=' + page + '&tags=' + tag + '+rating:safe&limit=' + limit,\r\n            success(data) {\r\n                resolve(data)\r\n            },\r\n            error(err) {\r\n                reject(err)\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nfunction getSearchRes(api, value, page) {\r\n    return new Promise((resolve, reject) => {\r\n        axiosGet({\r\n            api: api,\r\n            url: '/tag.json?name=' + value + '&order=count&page=' + page,\r\n            success(data) {\r\n                resolve(data)\r\n            },\r\n            error(err) {\r\n                reject(err)\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nfunction getRandomList(api, page, limit) {\r\n    return new Promise((resolve, reject) => {\r\n        axiosGet({\r\n            api: api,\r\n            url: '/post.json?page=' + page + '&tags=order%3Arandom+rating:safe&limit=' + limit,\r\n            success(data) {\r\n                resolve(data)\r\n            },\r\n            error(err) {\r\n                reject(err)\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nfunction getPopList(api, date) {\r\n    return new Promise((resolve, reject) => {\r\n        axiosGet({\r\n            api: api,\r\n            url: '/post/popular_by_day.json?day=' + date[2] + '&month=' + date[1] + '&year=' + date[0],\r\n            success(data) {\r\n                resolve(data)\r\n            },\r\n            error(err) {\r\n                reject(err)\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nconst collections = () => {\r\n    const arr = []\r\n    for (let i = 0; i < localStorage.length; i++) {\r\n        let getKey = localStorage.key(i)\r\n        let getValue = JSON.parse(localStorage.getItem(getKey))\r\n        arr[i] = getValue\r\n    }\r\n    return arr.flat()\r\n}\r\n\r\nfunction addCollection(key, arr) {\r\n    localStorage.setItem(key, JSON.stringify(arr));\r\n}\r\n\r\nfunction downloadPicture(image, api) {\r\n    // const src = image.jpeg_url.split(\"https://konachan.com\").reverse().join(\"\")\r\n\r\n    var a = document.createElement('a');\r\n    a.href = image.jpeg_url;\r\n    a.setAttribute('download', true)\r\n    var filename = image.id + '.jpg';\r\n    a.download = filename;\r\n    a.click();\r\n\r\n\r\n    // fetch(\"http://localhost:5000/\" + api + src).then(res =>\r\n\r\n    //     res.blob().then(blob => {\r\n    //         console.log(blob)\r\n    //         var a = document.createElement('a');\r\n    //         var url = window.URL.createObjectURL(blob);\r\n    //         var filename = image.id + '.jpg';\r\n    //         a.href = url;\r\n    //         a.download = filename;\r\n    //         a.click();\r\n    //         window.URL.revokeObjectURL(url);\r\n    //     }))\r\n    // canvas方法\r\n    // const src = image.jpeg_url\r\n    // let canvas = document.createElement('canvas')\r\n    // let img = document.createElement('img')\r\n    // img.src = src\r\n    // img.onload = () => {\r\n    //     canvas.width = img.width\r\n    //     canvas.height = img.height\r\n    //     let context = canvas.getContext('2d')\r\n    //     context.drawImage(img, 0, 0, img.width, img.height)\r\n    //     canvas.getContext('2d').drawImage(img, 0, 0, img.width, img.height)\r\n    //     canvas.toBlob(blob => {\r\n    //         let link = document.createElement('a')\r\n    //         link.href = window.URL.createObjectURL(blob)\r\n    //         link.download = 'download' // resource name\r\n    //         link.click()\r\n    //     }, \"/*可指定图片格式*/\", \"1\")\r\n    // }\r\n}\r\n\r\nexport { getImgList, getSelectedImgList, getSearchRes, getRandomList, getPopList, addCollection, collections, downloadPicture }","// 节流函数\r\nexport const throttle = (fn, interval) => {\r\n    var current = Date.now();\r\n\r\n    if (!interval) {\r\n        interval = 300;\r\n    }\r\n\r\n    return function () {\r\n        let context = this, args = arguments, now = Date.now();\r\n\r\n        if (now - current < interval) {\r\n            current = now;\r\n            return fn.apply(context, args)\r\n        }\r\n    }\r\n}\r\n\r\nexport const debounce = (fn, wait) => {\r\n    let timer = null;\r\n    return function () {\r\n        let context = this, args = arguments\r\n        timer && clearTimeout(timer)\r\n        timer = setTimeout(() => {\r\n            fn.apply(context, args)\r\n        }, wait)\r\n    }\r\n}\r\n\r\n// const defaultTagInfo = {\r\n//     tagname: '',\r\n//     imageList: []\r\n// }            \r\n\r\nexport const getImgTagMap = (imgList) => {\r\n    const imgTagMap = {}\r\n    for (const img of imgList) {\r\n        const taglist = img.tags.split(\" \")\r\n        for (const tag of taglist) {\r\n            imgTagMap[tag] = imgTagMap[tag] || []\r\n            imgTagMap[tag].push(img.id)\r\n\r\n            // imgTagMap[ tag ] =  imgTagMap[ tag ] || defaultTagInfo\r\n            // imgTagMap[ tag ].tagname = tag\r\n            // imgTagMap[ tag ].imageList.push(img.id)\r\n        }\r\n    }\r\n\r\n    return imgTagMap\r\n}\r\n\r\nexport const getEachImgTag = (img) => {\r\n    const imgTags = []\r\n    const taglist = img.tags.split(\" \")\r\n    taglist.map((tag, i) => {\r\n        const item = { id: img.id + i, name: tag }\r\n        imgTags.push(item)\r\n        return imgTags[i]\r\n    })\r\n    return imgTags\r\n}\r\n\r\nexport const getCollectList = (collectList) => {\r\n    const collectIds = []\r\n    for (const collect of collectList) {\r\n        collectIds.push(collect.id)\r\n    }\r\n    return collectIds\r\n}\r\n\r\nexport const loadingImg = (imgList, loading) => {\r\n    imgList.map(img => img.preview_url = loading)\r\n}\r\n\r\n\r\nexport function getDateFormat() {\r\n    const time = new Date()\r\n    const year = time.getFullYear()\r\n    let mon = time.getMonth() + 1\r\n    let date = time.getDate()\r\n\r\n    if (mon < 10) {\r\n        mon = \"0\" + mon\r\n    }\r\n\r\n    if (date < 10) {\r\n        date = \"0\" + date\r\n    }\r\n\r\n    return year + '-' + mon + '-' + date\r\n}","import {collections} from '../../models/index'\r\nimport {getCollectList} from '../../utils/functions'\r\n\r\nconst initialState ={\r\n    collectList: getCollectList(collections())\r\n}\r\n\r\nexport default function collectionManagerReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'HAS_COLLECTED':\r\n                return {\r\n                    ...state,\r\n                    collectList: action.collectList\r\n                }\r\n        default:\r\n            return state;\r\n    }\r\n}","const urlList = [\r\n  { name: 'konachan', url: 'https://konachan.com' },\r\n  { name: 'yande.re', url: 'https://yande.re' },\r\n]\r\n\r\nexport { urlList }","import { urlList } from \"../../configs/config\";\r\n\r\nconst initialState = {\r\n  api: urlList[0].name\r\n}\r\n\r\nexport default function changeApiReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'CHANGE_API':\r\n      return {\r\n        ...state,\r\n        api: action.api\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport ReduxThunk from 'redux-thunk'\r\nimport imgListReducer from './reducers/imgList'\r\nimport listWithTagReducer from './reducers/listWithTag'\r\nimport showTypeReducer from './reducers/showType'\r\nimport collectionManager from './reducers/collectList'\r\nimport changeApiReducer from './reducers/selectApi'\r\n\r\nconst allReducers = combineReducers({\r\n  img: imgListReducer,\r\n  listWithTag: listWithTagReducer,\r\n  showType: showTypeReducer,\r\n  collectList: collectionManager,\r\n  api: changeApiReducer,\r\n})\r\n\r\nconst store = createStore(allReducers, applyMiddleware(ReduxThunk))\r\n\r\nwindow.Store = store\r\nexport default store;","const HAS_COLLECTED = 'HAS_COLLECTED';\r\nconst CHANGE_IMGLIST = 'CHANGE_IMGLIST';\r\nconst CHANGE_PAGE = 'CHANGE_PAGE';\r\nconst CHANGE_SEARCH_VAL = 'CHANGE_SEARCH_VAL';\r\nconst HAS_TAG = 'HAS_TAG';\r\nconst CHANGE_API = 'CHANGE_API';\r\nconst SHOW_TYPE = 'SHOW_TYPE';\r\nconst IS_SHOW = 'IS_SHOW';\r\nconst SCROLL_TOP = 'SCROLL_TOP';\r\n\r\nfunction changeShowType(showType) {\r\n  return {\r\n    type: SHOW_TYPE,\r\n    showType\r\n  }\r\n}\r\n\r\nfunction changeIsShow(isShow) {\r\n  return {\r\n    type: IS_SHOW,\r\n    isShow\r\n  }\r\n}\r\n\r\nfunction changeOffsety(scrollTop) {\r\n  return {\r\n    type: SCROLL_TOP,\r\n    scrollTop\r\n  }\r\n}\r\n\r\nfunction changeApi(api) {\r\n  return {\r\n    type: CHANGE_API,\r\n    api\r\n  }\r\n}\r\n\r\nfunction listWithTag(hasTag) {\r\n  return {\r\n    type: HAS_TAG,\r\n    hasTag\r\n  }\r\n}\r\n\r\nfunction collectionManager(collectList) {\r\n  return {\r\n    type: HAS_COLLECTED,\r\n    collectList\r\n  }\r\n}\r\n\r\nfunction changeImgList(imgList) {\r\n  return {\r\n    type: CHANGE_IMGLIST,\r\n    imgList\r\n  }\r\n}\r\n\r\nfunction changePage(currentPage) {\r\n  return {\r\n    type: CHANGE_PAGE,\r\n    currentPage\r\n  }\r\n}\r\n\r\nfunction changeSearchVal(searchVal) {\r\n  return {\r\n    type: CHANGE_SEARCH_VAL,\r\n    searchVal\r\n  }\r\n}\r\n\r\nexport {\r\n  changeShowType,\r\n  changeIsShow,\r\n  changeOffsety,\r\n  changeApi,\r\n  listWithTag,\r\n  collectionManager,\r\n  changeImgList,\r\n  changePage,\r\n  changeSearchVal,\r\n}","import React from 'react'\r\nimport './style.css'\r\n\r\nconst Button = ({ info, fn }) => {\r\n\r\n    const onHover = (e) => {\r\n        const eDom = e.target\r\n        let boxWidth = 200\r\n        // if (eDom.parentNode.scrollHeight > 240) {\r\n        //     boxWidth = 181\r\n        // }\r\n        const rect = eDom.getBoundingClientRect()\r\n        const startCarousel = () => {\r\n            eDom.setAttribute('style', `\r\n            transition: transform 1.2s;\r\n            transform: translateX(${boxWidth - rect.width}px)\r\n            `)\r\n            setTimeout(() =>\r\n                eDom.setAttribute('style', `\r\n                transition: transform 1.2s;\r\n                transform: translateX(0px)\r\n            `), 1000)\r\n        }\r\n\r\n        if (rect.width > boxWidth) {\r\n            eDom.addEventListener('transitionend', () => { startCarousel(); })\r\n            startCarousel()\r\n        }\r\n    }\r\n\r\n    const offHover = (e) => {\r\n        const eDom = e.target\r\n        eDom.removeAttribute('style')\r\n    }\r\n\r\n\r\n    return (\r\n        <li\r\n            className=\"my-button\"\r\n            onClick={(e) => fn(e)}\r\n            onMouseEnter={(e) => onHover(e)}\r\n            onMouseLeave={(e) => offHover(e)}\r\n        >\r\n            {info}\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Button","import React, { useEffect, useRef, useState, memo } from 'react'\r\nimport Button from '../Button'\r\nimport './style.css'\r\nimport { createPortal } from 'react-dom'\r\n\r\nconst FloatList = ({ position, list, fn }) => {\r\n  const [container] = useState(document.createElement('div'))\r\n  const listDom = useRef(null)\r\n  const style = { top: position.y + window.pageYOffset, left: position.x }\r\n\r\n  const wh = window.innerHeight\r\n\r\n  if (list.length === 50) {\r\n    style.height = 400\r\n  } else if (list.length >= 10) {\r\n    style.height = 250\r\n    if (wh - position.y < 240) {\r\n      style.top -= 240 - wh + position.y\r\n    }\r\n  } else {\r\n    style.height = list.length * 25 + 2\r\n    if (wh - position.y < style.height) {\r\n      style.top -= style.height - wh + position.y\r\n    }\r\n  }\r\n\r\n  const styles = document.styleSheets[0]\r\n  styles.insertRule(\r\n    `@keyframes open{\r\n      0%{\r\n        height: 0;\r\n        overflow: hidden;\r\n      }\r\n      100%{\r\n        height: ${style.height}px;\r\n        overflow: hidden;\r\n      }\r\n    }`, 0\r\n  )\r\n\r\n  useEffect(() => {\r\n    document.body.appendChild(container)\r\n    return () => {\r\n      document.body.removeChild(container)\r\n      styles.deleteRule(0)\r\n    }\r\n  })\r\n\r\n  return createPortal(\r\n    <>\r\n      <ul className=\"idealist\" style={style} ref={listDom}>\r\n        {list.map(item =>\r\n          <Button key={item.id} info={item.name} fn={(e) => fn(e, item.name)} />\r\n        )}\r\n      </ul>\r\n    </>, container)\r\n}\r\n\r\nexport default memo(FloatList)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { changeShowType, changeIsShow, changeOffsety, changePage, changeApi } from '../../store/actions'\r\nimport { getSearchRes } from '../../models/index'\r\nimport { urlList } from '../../configs/config';\r\nimport CN from 'classnames'\r\n\r\nimport './Top.css';\r\nimport FloatList from '../../components/FloatList';\r\n\r\n\r\nconst Top = () => {\r\n    const pageOffset = useSelector(state => state.showType.scrollTop)\r\n    const api = useSelector(state => state.api.api)\r\n    const [value, setValue] = useState('');\r\n    const [ideaList, setIdeaList] = useState([])\r\n    const [ideaVisable, setIdeaVisable] = useState(false)\r\n    const showType = useSelector(state => state.showType.showType)\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const [position, setPosition] = useState({ x: 0, y: 0 });\r\n\r\n    useEffect(() => {\r\n        const fetchList = async (value) => {\r\n            const defaultList = await getSearchRes(api, value)\r\n            setIdeaList(defaultList)\r\n        }\r\n        fetchList(value)\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [api, value])\r\n\r\n    useEffect(() => {\r\n        setIdeaVisable(false)\r\n        document.querySelector('.search').blur()\r\n        window.addEventListener('scroll', changeOffset)\r\n        function changeOffset() {\r\n            dispatch(changeOffsety(window.pageYOffset))\r\n        }\r\n\r\n        return () => { window.removeEventListener('scroll', changeOffset) }\r\n\r\n    }, [pageOffset, dispatch])\r\n\r\n    const onClickMain = () => {\r\n        if (history.location.pathname !== \"/page=1\" && history.location.pathname !== \"/\") {\r\n            setValue('')\r\n            dispatch(changePage(1))\r\n            const activeDom = document.querySelector(\".title.active\")\r\n            if (!!activeDom) {\r\n                activeDom.classList.remove(\"active\")\r\n            }\r\n            dispatch(changeIsShow(true))\r\n            history.push(\"/page=\" + 1)\r\n        } else {\r\n            console.log(\"已在当前页\")\r\n        }\r\n    }\r\n\r\n    const onFocus = () => {\r\n        const height = window.innerHeight;\r\n        const rect = document.querySelector('input').getBoundingClientRect()\r\n\r\n        let x = rect.right - 200\r\n        let y = rect.bottom;\r\n\r\n        if ((height - rect.bottom) < 300) {\r\n            y = y - rect.height - 250;\r\n        }\r\n\r\n        setPosition({ x: x, y: y })\r\n        setIdeaVisable(true)\r\n    }\r\n\r\n    const onBlur = () => {\r\n        function clear() {\r\n            setValue(\"\")\r\n            setIdeaVisable(false)\r\n        }\r\n        setTimeout(() => { clear() }, 100)\r\n    }\r\n\r\n    const handleChange = (e) => {\r\n        setValue(e.target.value)\r\n    }\r\n\r\n    const onEnter = (e) => {\r\n        if (e.which !== 13 || e.target.value === '') return;\r\n        onSearch()\r\n        document.querySelector('.search').blur()\r\n    }\r\n\r\n    const onSearch = () => {\r\n        setIdeaVisable(false)\r\n        if (history.location.pathname !== \"/search/\" + value) {\r\n            setValue('')\r\n            dispatch(changePage(1))\r\n            dispatch(changeIsShow(true))\r\n            history.push(\"/search/\" + value + \"/page=\" + 1)\r\n        } else {\r\n            console.log(\"已在当前页\")\r\n        }\r\n    }\r\n\r\n    const onClickGrid = () => {\r\n        dispatch(changeShowType(\"grid\"))\r\n    }\r\n\r\n    const onClickList = () => {\r\n        dispatch(changeShowType(\"list\"))\r\n    }\r\n\r\n    const btnFn = (e, tag) => {\r\n        e.preventDefault()\r\n        setValue(tag)\r\n        setIdeaVisable(false)\r\n        if (history.location.pathname !== \"/search/\" + tag) {\r\n            setValue('')\r\n            dispatch(changePage(1))\r\n            dispatch(changeIsShow(true))\r\n            history.push(\"/search/\" + tag + \"/page=\" + 1)\r\n        } else {\r\n            console.log(\"已在当前页\")\r\n        }\r\n    }\r\n\r\n    const getValue = (e) => {\r\n        dispatch(changeApi(e.target.value))\r\n        dispatch(changeIsShow(true))\r\n    }\r\n\r\n    return (\r\n        <div className=\"top\">\r\n            <span className=\"mainicon\" >\r\n                <svg className=\"icon-cat\" onClick={onClickMain} viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\"><path d=\"M 841.68 367.41 c 15.33 -73.91 0 -141.29 0 -141.29 c -13.94 -26.96 -45.54 33.46 -45.54 33.46 l -42.76 -0.92 c -29.74 -38.12 -39.04 -39.04 -39.04 -39.04 c -23.23 -0.94 -6.51 131.98 -6.51 131.98 c -7.43 33.47 -60.42 40.9 -60.42 40.9 c -224 39.97 -188.68 324.4 -188.68 324.4 c -61.34 79.01 -173.02 11.65 -225.87 -8.37 c -59.8 -22.64 -81.08 -8.55 -89.22 -0.92 c -30.87 28.88 17.42 45.6 31.6 48.33 c 34.79 6.69 61.6 12.48 80.87 20.44 c 68.79 28.43 123.61 23.25 123.61 23.25 c 63.21 1.86 93.89 -21.37 93.89 -21.37 c 6.51 15.8 13.56 17.9 20.45 18.58 c 31.9 3.16 128.27 0 128.27 0 c 43.68 22.31 59.48 -9.29 59.48 -9.29 l 68.79 0.92 c 3.72 7.45 13.94 11.16 13.94 11.16 c 45.55 7.43 52.05 0 52.05 0 c 26.04 -14.88 -1.86 -29.74 -1.86 -29.74 c -22.31 -5.59 -19.51 -13.02 -19.51 -13.02 s 1.5 -25.12 -2.33 -70.17 c -2.66 -31.45 -9.7 -66.16 3.26 -79.48 c 16.27 -16.72 32.16 -57.89 38.11 -79 c 23.96 -85.12 -0.75 -121.41 7.42 -160.81 Z M 698.88 748.5 c 11.16 -8.37 17.66 -44.62 17.66 -44.62 c 11.16 5.59 19.53 44.62 19.53 44.62 c -23.25 5.58 -37.19 0 -37.19 0 Z\" fill=\"#333333\" p-id=\"11170\"></path></svg>\r\n                <select className=\"selector\" value={api} onChange={(e) => getValue(e)}>\r\n                    {urlList.map(item => <option key={item.name}>{item.name}</option>)}\r\n                </select>\r\n            </span>\r\n\r\n            <div className=\"searchbar\" >\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"search\"\r\n                    placeholder=\"Search...\"\r\n                    onFocus={onFocus}\r\n                    onBlur={onBlur}\r\n                    onChange={e => handleChange(e)}\r\n                    value={value}\r\n                    onKeyPress={onEnter}\r\n                />\r\n\r\n                {ideaVisable && <FloatList position={position} list={ideaList} fn={btnFn} />}\r\n                <svg className=\"icon-search\" onClick={onSearch} viewBox=\"0 0 1060 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\"><path d=\"M155.025387 209.506185a157.134398 213.982806 76.8 1 0 416.658291-97.726319 157.134398 213.982806 76.8 1 0-416.658291 97.726319Z\" fill=\"#CC9760\" p-id=\"12047\"></path><path d=\"M153.411461 642.612289a189.269774 213.982806 13.24 1 0 98.017178-416.589963 189.269774 213.982806 13.24 1 0-98.017178 416.589963Z\" fill=\"#CC9760\" p-id=\"12048\"></path><path d=\"M819.637647 642.516129a189.269774 213.982806 13.24 1 0 98.017178-416.589964 189.269774 213.982806 13.24 1 0-98.017178 416.589964Z\" fill=\"#CC9760\" p-id=\"12049\"></path><path d=\"M698.925643 317.209335a213.982806 157.134398 5.05 1 0 27.663528-313.048886 213.982806 157.134398 5.05 1 0-27.663528 313.048886Z\" fill=\"#CC9760\" p-id=\"12050\"></path><path d=\"M999.065732 613.7468c3.711172-4.807655 7.16931-9.783999 10.374412-14.844688 1.686896-2.614689 3.373793-5.145034 4.976345-7.844068s2.952069-5.229379 4.38593-7.928413 3.879862-7.506689 5.735448-11.302206c0.927793-2.024276 1.855586-3.879862 2.699034-5.904137 2.361655-5.313724 4.470275-10.880482 6.494551-16.868964l1.771241-5.229379c2.024276-6.325861 3.964206-12.736068 5.482414-19.399308s2.614689-12.398688 3.542482-18.555861c16.868964-108.383093-42.17241-210.440324-138.747227-233.044735l-5.145034-1.096482a119.01054 119.01054 0 0 0 13.495171-45.293168c7.675379-86.45344-81.56144-164.978466-199.306808-175.352879C641.021975 44.840995 573.546119 66.770648 531.37371 105.400575c-44.027996-48.919995-133.264814-86.200405-215.669703-50.606891C228.744499 92.833197 246.79429 219.350426 143.387542 256.799526c-6.578896 2.361655 3.795517 13.326481 6.578896 19.652342C82.321893 297.116349 25.304795 357.50724 6.411556 438.140887a235.40639 235.40639 0 0 0-3.289448 92.779301c0 1.180827 0 2.27731 0.590414 3.373792 0.590414 3.120758 1.180827 6.157172 1.855586 9.277931 0 1.686896 0.759103 3.373793 1.180827 4.976344s1.265172 4.807655 1.939931 7.169309 1.180827 4.132896 1.855586 6.157172a49.00434 49.00434 0 0 0 1.771241 5.313724c0.843448 2.530345 1.686896 4.976344 2.61469 7.422344 0.421724 1.096483 0.843448 2.10862 1.349517 3.205103a196.860808 196.860808 0 0 0 46.305305 69.162752 102.141576 102.141576 0 0 1 32.810135 73.633027v91.514128a193.233981 193.233981 0 0 0 156.965708 186.317706 1410.582754 1410.582754 0 0 0 271.337283 25.303446 1411.763582 1411.763582 0 0 0 263.493215-24.038274 193.993084 193.993084 0 0 0 158.905639-187.835912v-77.597234a161.689018 161.689018 0 0 1 42.17241-107.455299c2.699034-3.036413 5.229379-6.157172 7.759723-9.362275z\" fill=\"#FF6E83\" p-id=\"12051\"></path><path d=\"M1010.958351 566.429356c3.626827-4.807655 7.084965-9.699654 10.374413-14.760343 1.602552-2.614689 3.289448-5.145034 4.891999-7.844068s2.952069-5.229379 4.385931-7.928413 3.964206-7.506689 5.735448-11.386551l2.783379-5.819792c2.27731-5.398068 4.385931-10.880482 6.410206-16.868964l1.771241-5.229379c2.024276-6.325861 3.964206-12.736068 5.482413-19.399308s2.614689-12.398688 3.542483-18.55586c16.868964-108.383093-42.17241-210.440324-138.747228-233.12908l-5.145034-1.012138a117.576678 117.576678 0 0 0 13.495171-45.293168C933.614152 92.833197 844.377333 14.561205 726.631966 4.186792c-73.970406-6.578896-141.530606 15.350757-183.449982 53.980685-44.027996-48.919995-128.204125-70.933993-215.669702-50.606892C212.465949 34.719617 134.95306 125.052918 155.027127 209.566427a114.455919 114.455919 0 0 0 6.578896 19.652343c-67.475855 20.664481-124.408608 80.971026-143.386192 161.604673a236.165493 236.165493 0 0 0-3.289448 92.779301c0 1.096483 0.421724 2.27731 0.590413 3.373793 0.590414 3.120758 1.180827 6.157172 1.855586 9.27793 0 1.686896 0.759103 3.289448 1.180828 4.976344s1.265172 4.807655 1.939931 7.16931 1.180827 4.132896 1.855586 6.157172 1.096483 3.542482 1.771241 5.313723 1.686896 4.976344 2.614689 7.422344c0.421724 1.012138 0.843448 2.10862 1.349517 3.205104a197.619911 197.619911 0 0 0 46.305306 69.162751 101.972886 101.972886 0 0 1 32.810135 73.633027v91.598474a193.233981 193.233981 0 0 0 156.965708 186.317705 1410.582754 1410.582754 0 0 0 271.337283 25.303446A1411.763582 1411.763582 0 0 0 798.999821 953.150352a194.499153 194.499153 0 0 0 158.989984-187.835912v-78.271992a161.689018 161.689018 0 0 1 42.172409-107.4553c2.699034-3.036413 5.229379-6.157172 7.759724-9.362275z\" fill=\"#FCF0E6\" p-id=\"12052\"></path><path d=\"M228.154085 200.119807c1.180827-41.244617 23.616549-92.779301 70.765303-116.901919 52.462477-26.990342 114.371575-9.699654 149.712054 19.821032 83.83875 70.174889 60.643925 246.286872-10.205723 277.241421s-213.223703-71.693096-210.271634-180.160534zM789.553201 685.355551c-20.580136 56.426684-147.434744 59.041373-255.902181 60.72827s-228.23708 4.132896-250.166733-49.00434c-28.086825-67.475855 98.767783-236.165493 251.51625-237.6837 149.543364-1.602552 279.68742 156.965708 254.552664 225.95977zM88.985134 489.253847c-15.772481-34.750065-17.543722-90.248956 19.230618-124.408608S199.982916 335.914966 233.636498 354.302136c69.078407 37.617789 88.224681 151.820674 43.100203 193.402671S121.289199 560.440874 88.985134 489.253847zM862.34278 351.856137c31.460618-14.844688 80.464957-13.663861 108.045713 18.808894 24.122618 28.255514 21.676619 68.319303 9.783999 94.297508-27.412066 59.716132-122.890401 83.754405-159.580398 48.666961s-18.55586-133.349159 41.750686-161.773363zM634.358734 105.316231c40.232479-30.195445 111.082127-44.787099 160.255156-7.844069 41.160272 30.870204 50.606891 85.188267 45.377513 122.890402C825.737128 323.853657 685.977763 404.909028 621.622666 368.219032S549.92957 168.743535 634.358734 105.316231z\" fill=\"#F7999F\" p-id=\"12053\"></path><path d=\"M817.049612 799.642781m-65.1142 0a65.1142 65.1142 0 1 0 130.2284 0 65.1142 65.1142 0 1 0-130.2284 0Z\" fill=\"#F7999F\" p-id=\"12054\"></path><path d=\"M846.992023 799.642781m-28.339859 0a28.339859 28.339859 0 1 0 56.679718 0 28.339859 28.339859 0 1 0-56.679718 0Z\" fill=\"#FFFFFF\" p-id=\"12055\"></path><path d=\"M899.117121 385.847099m-28.339859 0a28.339859 28.339859 0 1 0 56.679718 0 28.339859 28.339859 0 1 0-56.679718 0Z\" fill=\"#FFFFFF\" p-id=\"12056\"></path><path d=\"M695.002659 126.65547m-28.339859 0a28.339859 28.339859 0 1 0 56.679718 0 28.339859 28.339859 0 1 0-56.679718 0Z\" fill=\"#FFFFFF\" p-id=\"12057\"></path><path d=\"M282.556494 154.995329m-28.33986 0a28.339859 28.339859 0 1 0 56.679719 0 28.339859 28.339859 0 1 0-56.679719 0Z\" fill=\"#FFFFFF\" p-id=\"12058\"></path><path d=\"M127.277682 445.057162m-28.33986 0a28.339859 28.339859 0 1 0 56.679719 0 28.339859 28.339859 0 1 0-56.679719 0Z\" fill=\"#FFFFFF\" p-id=\"12059\"></path></svg>\r\n            </div>\r\n            <div className=\"icon-bar\">\r\n                <div className={CN('move-cube', { 'active': showType !== \"grid\" })}></div>\r\n                <div className=\"grid-icon\" onClick={onClickGrid}>\r\n                    <svg className={CN({ 'active': showType === \"grid\" })} viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"13121\" width=\"20\" height=\"20\"><path d=\"M480 96v288c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h288c53 0 96 43 96 96zM1024 96v288c0 53-43 96-96 96H640c-53 0-96-43-96-96V96c0-53 43-96 96-96h288c53 0 96 43 96 96zM480 640v288c0 53-43 96-96 96H96c-53 0-96-43-96-96V640c0-53 43-96 96-96h288c53 0 96 43 96 96zM1024 640v288c0 53-43 96-96 96H640c-53 0-96-43-96-96V640c0-53 43-96 96-96h288c53 0 96 43 96 96z\" p-id=\"13122\" ></path></svg>\r\n                </div>\r\n                <div className=\"list-icon\" onClick={onClickList}>\r\n                    <svg className={CN({ 'active': showType === \"list\" })} viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2514\" width=\"20\" height=\"20\"><path d=\"M1020 176H292c-2.2 0-4-1.8-4-4v-56c0-2.2 1.8-4 4-4h728c2.2 0 4 1.8 4 4v56c0 2.2-1.8 4-4 4zM1020 544H292c-2.2 0-4-1.8-4-4v-56c0-2.2 1.8-4 4-4h728c2.2 0 4 1.8 4 4v56c0 2.2-1.8 4-4 4zM1020 912H292c-2.2 0-4-1.8-4-4v-56c0-2.2 1.8-4 4-4h728c2.2 0 4 1.8 4 4v56c0 2.2-1.8 4-4 4zM156 224H4c-2.2 0-4-1.8-4-4V68c0-2.2 1.8-4 4-4h152c2.2 0 4 1.8 4 4v152c0 2.2-1.8 4-4 4zM156 608H4c-2.2 0-4-1.8-4-4V452c0-2.2 1.8-4 4-4h152c2.2 0 4 1.8 4 4v152c0 2.2-1.8 4-4 4zM156 960H4c-2.2 0-4-1.8-4-4V804c0-2.2 1.8-4 4-4h152c2.2 0 4 1.8 4 4v152c0 2.2-1.8 4-4 4z\" p-id=\"2515\"></path></svg>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Top;\r\n","import React, { useState, memo } from 'react'\r\nimport './style.css'\r\n\r\nconst BoxborderResizer = ({ width, setWidth }) => {\r\n    const value = width\r\n    const [isActive, setIsActive] = useState(false)\r\n    const [min, max] = [300, 400]\r\n\r\n    const resizeFn = (e) => {\r\n        e.preventDefault()\r\n        const start = e.clientX\r\n        const ratio = 1\r\n        setIsActive(true)\r\n\r\n        const onDrag = (e) => {\r\n            const current = e.clientX\r\n            const absChange = (current - start) * ratio\r\n            const newValue = Math.max(Math.min(value + absChange, max), min)\r\n            setWidth(newValue)\r\n        }\r\n\r\n        const onDragEnd = () => {\r\n            document.removeEventListener('mousemove', onDrag)\r\n            document.removeEventListener('mouseup', onDragEnd)\r\n            setIsActive(false)\r\n        }\r\n\r\n        document.addEventListener('mousemove', onDrag)\r\n        document.addEventListener('mouseup', onDragEnd)\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={isActive ? \"border-resizer active\" : \"border-resizer\"}\r\n            onMouseDown={resizeFn}\r\n            style={{ left: width }}\r\n        >\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(BoxborderResizer)\r\n","import React from 'react'\r\nimport './Dialog.css'\r\n\r\nconst Dialog = ({ showDialog, setShowDialog }) => {\r\n    const { title, type, message, confirm } = showDialog\r\n\r\n    const onConfirm = () => {\r\n        if (!!confirm) {\r\n            confirm()\r\n        }\r\n        setShowDialog({ isShow: false })\r\n    }\r\n\r\n    const onCancel = () => {\r\n        setShowDialog({ isShow: false })\r\n    }\r\n\r\n    return (\r\n        <div className=\"cover\">\r\n            {type === \"img\" ?\r\n                (<div className=\"swiper\">\r\n                    <button className=\"close\" onClick={onCancel} style={{ fontSize: \"5em\", position: \"absolute\", top: \"6vh\", right: \"10vw\" }}>×</button>\r\n                    <img className=\"showpic\" alt=\"\" src={message} />\r\n                </div>\r\n                )\r\n                :\r\n                (<div className=\"mydialog\">\r\n                    <div className=\"head\">\r\n                        <span className=\"dialog-title\">{title}</span>\r\n                        <button className=\"close\" onClick={onCancel}>×</button>\r\n                    </div>\r\n                    <div className=\"content\">{message}</div>\r\n                    <div className=\"footer\">\r\n                        <button className=\"btn confirm\" onClick={onConfirm}>确认</button>\r\n                        <button className=\"btn confirm\" onClick={onCancel}>取消</button>\r\n                    </div>\r\n                </div>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialog;\r\n","import React, { useState, memo } from 'react'\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { useDispatch } from \"react-redux\";\r\nimport { changeIsShow } from '../../store/actions'\r\nimport { getDateFormat } from \"../../utils/functions\";\r\n\r\nconst DatePicker = () => {\r\n  const [date, setDate] = useState(getDateFormat())\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  const style = { width: \"145px\", marginRight: 0 }\r\n\r\n  const setPopDate = (e) => {\r\n    setDate(e.target.value)\r\n    if (history.location.pathname !== \"/popular/\" + e.target.value) {\r\n      dispatch(changeIsShow(true))\r\n      history.push(\"/popular/\" + e.target.value)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"icon delete\" style={style} onClick={e => e.stopPropagation()}>\r\n      <input type=\"date\" value={date} onChange={e => setPopDate(e)} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default memo(DatePicker)\r\n","import React, { useEffect, useState, memo } from 'react';\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { useDispatch } from \"react-redux\";\r\nimport { listWithTag, changeIsShow, changePage } from '../../store/actions'\r\nimport { getDateFormat } from '../../utils/functions'\r\nimport './SideBar.css';\r\nimport BoxborderResizer from '../../components/BoxborderResizer';\r\nimport Dialog from '../../components/Dialog/Dialog';\r\nimport DatePicker from '../../components/DatePicker';\r\n\r\n\r\nconst SideBar = ({ breeds, setBarWidth }) => {\r\n    const date = getDateFormat()\r\n    const dispatch = useDispatch();\r\n    const history = useHistory()\r\n    const [sideWidth, setSideWidth] = useState(300)\r\n    const [isExpanded, setisExpanded] = useState(false);\r\n    const [slectId, setSelectId] = useState('');\r\n    const [showDialog, setShowDialog] = useState({ isShow: false, title: \"\", type: \"text\", message: \"\", confirm: null });\r\n    const [showDatePicker, setShowDatePicker] = useState(false);\r\n\r\n    useEffect(() => setBarWidth(sideWidth), [sideWidth, setBarWidth])\r\n\r\n    useEffect(() => {\r\n        if (history.location.pathname === \"/page=1\") {\r\n            const titleDom = document.querySelector('.title')\r\n            titleDom.className = 'title active'\r\n        }\r\n        if (!history.location.pathname.includes('popular')) {\r\n            setShowDatePicker(false)\r\n        }\r\n    }, [history.location.pathname])\r\n\r\n    const style = {\r\n        width: sideWidth\r\n    }\r\n\r\n    const onExpand = () => {\r\n        setisExpanded(!isExpanded);\r\n    }\r\n\r\n    const onSelect = (e, breed) => {\r\n        e.preventDefault()\r\n\r\n        if (history.location.pathname !== \"/search/\" + breed) {\r\n            dispatch(changeIsShow(true))\r\n            dispatch(changePage(1))\r\n            history.push(\"/search/\" + breed + \"/page=\" + 1)\r\n        } else {\r\n            console.log(\"已在当前页\")\r\n        }\r\n\r\n        setSelectId(breed)\r\n    }\r\n\r\n    const onHover = (breed) => {\r\n        const hoverImgIds = breeds[breed]\r\n        dispatch(listWithTag(hoverImgIds))\r\n    }\r\n\r\n    const offHover = () => {\r\n        dispatch(listWithTag([]))\r\n    }\r\n\r\n    const showMainPage = (e) => {\r\n        if (history.location.pathname !== \"/page=1\") {\r\n            dispatch(changePage(1))\r\n            const activeDom = document.querySelector(\".title.active\")\r\n            if (!!activeDom) {\r\n                activeDom.classList.remove(\"active\")\r\n            }\r\n            e.target.className = \"title active\"\r\n            dispatch(changeIsShow(true))\r\n            history.push(\"/page=\" + 1)\r\n        } else {\r\n            console.log(\"已在当前页\")\r\n        }\r\n    }\r\n\r\n    const showCollections = (e) => {\r\n        const activeDom = document.querySelector(\".title.active\")\r\n        if (!!activeDom) {\r\n            activeDom.classList.remove(\"active\")\r\n        }\r\n        e.target.className = \"title active\"\r\n\r\n        if (history.location.pathname !== \"/collection\") {\r\n            dispatch(changeIsShow(true))\r\n            dispatch(changePage(1))\r\n            history.push(\"/collection\")\r\n        } else {\r\n            console.log(\"已在当前页\")\r\n        }\r\n    }\r\n\r\n    const showRandomPage = (e) => {\r\n        const activeDom = document.querySelector(\".title.active\")\r\n        if (!!activeDom) {\r\n            activeDom.classList.remove(\"active\")\r\n        }\r\n        e.target.className = \"title active\"\r\n        if (history.location.pathname !== \"/random\") {\r\n            dispatch(changeIsShow(true))\r\n            dispatch(changePage(1))\r\n            history.push(\"/random\")\r\n        } else {\r\n            window.location.reload()\r\n        }\r\n    }\r\n\r\n    const showPopPage = (e) => {\r\n        const activeDom = document.querySelector(\".title.active\")\r\n        if (!!activeDom) {\r\n            activeDom.classList.remove(\"active\")\r\n        }\r\n        e.target.className = \"title active\"\r\n        if (history.location.pathname !== \"/popular/\" + date) {\r\n            dispatch(changeIsShow(true))\r\n            dispatch(changePage(1))\r\n            history.push(\"/popular/\" + date)\r\n        }\r\n    }\r\n\r\n    const deleteAll = (e) => {\r\n        e.stopPropagation();\r\n        function delConfirm() {\r\n            localStorage.clear()\r\n        }\r\n        setShowDialog({ isShow: true, title: \"提示\", type: \"text\", message: \"确认删除全部收藏！\", confirm: delConfirm })\r\n    }\r\n\r\n    const changeTime = (e) => {\r\n        e.stopPropagation();\r\n        setShowDatePicker(true)\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"sidebar\" style={style}>\r\n                <span className=\"title active\" onClick={showMainPage}>\r\n                    <svg t=\"1624242382801\" className=\"icon\" viewBox=\"0 0 1024 1024\">\r\n                        <path d=\"M512 64.050782c60.495816 0 119.153774 11.836583 174.345794 35.181267 53.335742 22.558785 101.245915 54.864562 142.401244 96.01989s73.461105 89.066525 96.01989 142.401244c23.344684 55.19202 35.181267 113.851001 35.181267 174.345794 0 60.494793-11.836583 119.153774-35.181267 174.345793-22.558785 53.334719-54.864562 101.245915-96.01989 142.401244s-89.066525 73.461105-142.401244 96.019891c-55.19202 23.344684-113.851001 35.181267-174.345794 35.181267s-119.153774-11.836583-174.345794-35.181267c-53.335742-22.558785-101.245915-54.864562-142.401244-96.019891S121.791857 739.679489 99.233072 686.34477c-23.344684-55.19202-35.181267-113.851001-35.181267-174.345793 0-60.495816 11.836583-119.153774 35.181267-174.345794 22.558785-53.335742 54.864562-101.245915 96.01989-142.401244s89.066525-73.461105 142.401244-96.01989c55.19202-23.344684 113.849978-35.181267 174.345794-35.181267m0-51.16531c-275.653107 0-499.114528 223.461421-499.114528 499.114528S236.346893 1011.114528 512 1011.114528s499.114528-223.461421 499.114528-499.114528S787.653107 12.885472 512 12.885472z\"></path><path d=\"M786.310529 540.674063c-9.080819 9.135054-23.858384 9.135054-32.992415 0L512.162706 298.765501 310.500776 501.072113h14.669095c25.791409 0 46.693462 21.063735 46.693462 46.963615v24.985044h0.054235l0.160659 141.318586c1.558495 15.368012 7.469112 19.452028 24.502044 20.633946 19.773346-1.774413 21.976524-8.705266 22.138206-34.819017l-0.054235-58.569953c0.215918-25.684986 21.010523-46.532803 46.641273-46.532803h23.320125v-0.591471l46.747697-0.107447v0.697895h23.320125c25.791409 0 46.74872 21.010523 46.74872 46.963614v24.985045h0.053212l0.053212 28.479634 0.053212-6.824429c0 36.539194 0 44.544519 22.997783 46.317909 23.481807-1.934049 23.696702-10.156314 23.696702-46.317909l-0.322341 46.641274h0.376576l-0.214894-188.336436c0-12.94994 10.477632-23.480784 23.373337-23.480784 12.896728 0 23.320125 10.530844 23.320125 23.480784l0.161682 163.350368h-0.161682v24.932856c0 25.953092-20.902052 47.015803-46.693462 47.015803h-46.694485c-25.52228 0-46.048779-20.578688-46.586015-46.103014l-0.054235-59.912532-0.160659-5.963828c0 0.591471 0.160659 1.020236 0.160659 1.664919l-0.053212-30.573319h-7.254218l6.5553 0.053212 0.591471 28.855188c-1.181919-22.998807-6.502088-27.942399-28.693506-28.855188l-37.238112 0.053212c-20.903076 0.966001-26.114774 5.748934-27.296693 26.006303l0.053212 42.826388h-0.160659v24.932856c0 25.953092-20.903076 47.015803-46.748721 47.015803h-46.694485c-25.469068 0-45.941332-20.525476-46.478567-46.048779l-0.215918-188.819436-12.08934 0.054235 11.44568 0.052188 0.160659 31.541367c-0.537236-25.738198-4.459568-30.68179-28.210505-31.594579l-40.622186 0.106424c-6.5553 0.485047-13.219069-1.503237-18.162662-6.555299-9.135054-9.134031-9.135054-24.019043 0-33.20731l256.093633-256.898974c0.591471-0.697895 0.859577-1.611707 1.505283-2.25639 9.134031-9.188266 23.910573-9.188266 33.045627 0l0.376577 0.375553 257.598916 258.405281c9.137101 9.18929 9.137101 24.073278 0.002046 33.261545z m-180.705641 194.783265l11.498892-0.053212-11.498892-0.053212v0.106424z m-140.190903-68.080561l0.537236-25.898857h-0.591471l0.054235 25.898857z m-93.334735 68.080561l11.498892-0.053212-11.498892-0.053212v0.106424z m-47.393403-156.417469c0.107447 4.78191 0.107447 10.209526 0.107447 16.549931l-0.107447-16.549931z\"></path>\r\n                    </svg>\r\n                    Main List\r\n                </span>\r\n                <span className=\"title\" onClick={showCollections}>\r\n                    <svg className=\"icon collect\" viewBox=\"0 0 1024 1024\">\r\n                        <path d=\"M744.8 128H279.2c-21.3 0-38.7 17.4-38.7 38.7v690.5c0 13.7 7 26.1 18.8 33.2 11.7 7.1 26 7.5 38.1 1L512 777.7l214.6 113.7c5.7 3 11.9 4.6 18.1 4.6 6.9 0 13.8-1.9 19.9-5.6 11.7-7.1 18.7-19.5 18.7-33.2V166.7c0.2-21.3-17.2-38.7-38.5-38.7z m-12 709.5L530.1 730c-11.3-6-24.9-6-36.2 0L291.2 837.5V178.6h441.7v658.9z\"></path>\r\n                    </svg>\r\n                    Collections\r\n                    <svg className=\"icon delete\" onClick={deleteAll} viewBox=\"0 0 1024 1024\">\r\n                        <path d=\"M478.817 289.946c0-20.188 16.543-36.451 36.45-36.451l0 0c19.907 0 36.452 16.542 36.452 36.451l0 552.932c0 20.187-16.545 36.451-36.452 36.451l0 0c-20.188 0-36.45-16.544-36.45-36.451L478.817 289.946 478.817 289.946zM306.938 289.946c0-20.188 16.263-36.451 36.451-36.451l0 0c20.188 0 36.45 16.542 36.45 36.451l0 552.932c0 20.187-16.542 36.451-36.45 36.451l0 0c-20.188 0-36.451-16.544-36.451-36.451L306.938 289.946 306.938 289.946zM650.417 289.946c0-20.188 16.543-36.451 36.45-36.451l0 0c20.189 0 36.451 16.542 36.451 36.451l0 552.932c0 20.187-16.544 36.451-36.451 36.451l0 0c-19.907 0-36.45-16.544-36.45-36.451L650.417 289.946 650.417 289.946zM952.68 110.776 809.118 110.776l-52.433 0L756.685 64.791c0-35.609-31.965-63.648-72.901-63.648L346.473 1.143c-40.938 0-72.901 28.039-72.901 63.648l0 45.705-52.434 0L71.688 110.496c-20.188 0-36.45 16.262-36.45 36.451s16.263 36.451 36.45 36.451l76.828 0L148.516 952.23c0 39.254 32.806 71.22 72.901 71.22l587.981 0c40.096 0 72.901-31.966 72.901-71.22L882.299 183.678l70.379 0c20.187 0 36.449-16.263 36.449-36.451C989.129 127.038 972.866 110.776 952.68 110.776L952.68 110.776zM346.473 74.324l337.311 0 0 36.452L346.473 110.776 346.473 74.324 346.473 74.324zM770.704 950.827c0 0-471.617 1.684-511.713 1.684s-37.853-41.218-37.853-41.218L221.138 218.727c0-42.06 35.609-35.049 35.609-35.049l89.726 0 337.311 0 82.436 0c0 0 42.899-2.524 42.899 35.049 0 37.572 0.561 660.882 0.561 696.212C809.679 949.987 770.704 950.827 770.704 950.827L770.704 950.827z\"></path>\r\n                    </svg>\r\n                </span>\r\n                <span className=\"title\" onClick={showRandomPage}>\r\n                    <svg className=\"icon\" viewBox=\"0 0 1024 1024\">\r\n                        <path d=\"M512 50.033778C257.265778 50.033778 50.033778 257.265778 50.033778 512c0 254.72 207.232 461.966222 461.966222 461.966222S973.966222 766.72 973.966222 512C973.966222 257.265778 766.734222 50.033778 512 50.033778z m0 867.043555C288.64 917.077333 106.922667 735.36 106.922667 512S288.64 106.922667 512 106.922667 917.077333 288.64 917.077333 512 735.36 917.077333 512 917.077333z\"></path><path d=\"M606.520889 166.954667a14.222222 14.222222 0 1 0-7.509333 27.448889C741.617778 233.386667 841.216 363.989333 841.216 512a14.222222 14.222222 0 1 0 28.444444 0c0-160.796444-108.202667-302.677333-263.139555-345.045333zM512 182.769778a343.822222 343.822222 0 0 1 19.2 0.526222 14.222222 14.222222 0 0 0 0.753778-28.416 371.171556 371.171556 0 0 0-19.939556-0.554667 14.222222 14.222222 0 1 0-0.014222 28.444445z\"></path><path d=\"M596.579556 439.623111l0.668444 51.328c0.256 17.052444 13.838222 29.909333 31.672889 29.909333 6.556444 0 13.084444-1.792 19.057778-5.333333l106.552889-65.891555c9.841778-5.859556 15.445333-14.805333 15.303111-24.576-0.128-10.396444-6.599111-19.939556-17.393778-25.984l-106.197333-63.459556c-13.639111-7.608889-32.142222-5.390222-42.311112 4.949333a29.127111 29.127111 0 0 0-8.362666 21.105778l0.64 49.521778c-27.960889 1.038222-87.523556 13.169778-137.187556 90.154667-21.859556-56.32-53.930667-94.222222-95.672889-112.497778-62.478222-27.320889-122.453333-0.099556-124.984889 1.066666a14.222222 14.222222 0 1 0 12.003556 25.799112c0.512-0.256 50.730667-23.054222 101.589333-0.810667 38.784 16.967111 68.138667 55.779556 87.267556 115.328 0.426667 1.336889 0.938667 2.488889 1.379555 3.811555l-0.625777 1.223112c-75.733333 155.534222-186.040889 117.688889-190.620445 115.996444a14.293333 14.293333 0 0 0-18.304 8.362667c-2.730667 7.367111 0.995556 15.559111 8.362667 18.304 0.483556 0.170667 18.019556 6.385778 44.387555 6.385777 45.041778 0 115.811556-18.232889 170.993778-116.067555 40.163556 78.094222 105.6 88.675556 138.140445 88.675555 1.194667 0 2.133333-0.056889 3.242666-0.085333l-0.625777 48.867556c-0.128 8.021333 2.844444 15.544889 8.362666 21.134222 6.058667 6.144 14.833778 9.671111 24.135111 9.671111a37.831111 37.831111 0 0 0 18.517334-4.920889l105.500444-63.061333c11.121778-6.243556 17.592889-15.772444 17.720889-26.197334 0.128-9.756444-5.461333-18.716444-15.104-24.448l-106.979556-66.133333a36.864 36.864 0 0 0-18.816-5.219555c-17.834667 0-31.416889 12.856889-31.672888 29.937777l-0.682667 52.309334c-25.329778 1.422222-90.282667-4.352-124.913778-92.416 45.169778-83.783111 101.489778-95.772444 124.956445-96.739556z m31.502222-80.270222c1.052444 0 2.673778 0.199111 3.911111 0.881778l106.168889 63.445333c0.867556 0.483556 1.521778 0.952889 2.048 1.351111l-0.426667 0.284445-106.581333 65.891555c-5.248 3.143111-7.466667 1.194667-7.495111-0.625778l-1.479111-130.062222c0.554667-0.568889 1.962667-1.166222 3.854222-1.166222z m-2.389334 217.514667c0.014222-1.223111 1.109333-1.863111 3.228445-1.863112 0.995556 0 2.588444 0.227556 4.081778 1.137778l106.965333 66.119111 0.241778 0.142223c-0.568889 0.440889-1.336889 0.952889-2.360889 1.536l-105.472 63.047111c-4.536889 2.488889-7.210667 1.265778-8.348445-0.881778l1.664-129.237333z\"></path>\r\n                    </svg>\r\n                    Random\r\n                </span>\r\n                <span className=\"title\" onClick={showPopPage}>\r\n                    <svg className=\"icon\" viewBox=\"0 0 1024 1024\">\r\n                        <path d=\"M627.677867 203.1616c-12.322133-38.126933-33.416533-73.5232-60.689067-105.984a421.12 421.12 0 0 0-48.725333-49.066667 295.594667 295.594667 0 0 0-22.920534-18.0224c-18.909867-12.970667-44.049067 3.549867-39.594666 26.0608 0.034133 0.221867 0.187733 1.297067 0.392533 3.140267 1.3824 13.0048 0.682667 29.696-3.771733 48.605867-6.5536 27.767467-20.189867 55.176533-42.734934 81.134933-6.263467 7.2192-13.192533 14.267733-20.804266 21.128533-7.953067 7.202133-16.9472 14.660267-27.733334 23.108267-9.659733 7.5776-54.2208 40.994133-66.3552 50.517333-112.5376 88.183467-166.741333 175.377067-166.741333 319.488C128 821.521067 304.896 998.4 523.1104 998.4s395.1104-176.896 395.1104-395.1104c0-93.3376-39.850667-190.071467-105.8816-285.405867a930.628267 930.628267 0 0 0-71.645867-90.658133 800.426667 800.426667 0 0 0-23.722666-25.3952 404.104533 404.104533 0 0 0-9.352534-9.335467c-16.469333-15.6672-43.656533-3.720533-43.264 18.9952 0 0.768-0.034133 2.4576-0.187733 4.846934a133.905067 133.905067 0 0 1-1.536 13.038933 130.986667 130.986667 0 0 1-12.305067 38.126933c-3.413333 6.656-7.338667 12.7488-11.895466 18.261334 1.826133-25.873067-1.194667-53.0432-10.752-82.602667z m-99.8912-73.045333c23.313067 27.733333 41.079467 57.5488 51.2 88.797866 11.008 34.0992 10.786133 63.317333 3.7888 91.716267-1.143467 4.693333-4.778667 17.3056-4.676267 16.878933-1.245867 4.693333-1.809067 7.662933-1.570133 12.066134a26.333867 26.333867 0 0 0 34.901333 23.808c39.355733-13.141333 67.157333-38.7584 84.48-72.533334 4.181333-8.209067 7.645867-16.64 10.427733-25.1904a878.5408 878.5408 0 0 1 63.914667 81.373867c60.637867 87.552 96.768 175.274667 96.768 256.256 0 189.934933-153.975467 343.9104-343.893333 343.9104-189.952 0-343.927467-153.975467-343.927467-343.9104 0-126.088533 45.858133-199.850667 147.114667-279.210667 11.5712-9.0624 56.132267-42.496 66.372266-50.517333a568.610133 568.610133 0 0 0 30.446934-25.378133 295.2704 295.2704 0 0 0 25.156266-25.582934c33.672533-38.7584 51.131733-79.0016 57.258667-116.650666 7.594667 7.543467 15.0528 15.598933 22.237867 24.149333z\"></path><path d=\"M290.133333 480.2048c0-9.3696 7.662933-16.9472 16.9984-16.9472h7.7824c9.386667 0 16.9984 7.6288 16.9984 17.1008v107.8272h51.6096v-107.8272c0-9.437867 7.662933-17.1008 16.9984-17.1008h7.7824c9.386667 0 16.9984 7.799467 16.9984 16.9472v257.7408a16.9984 16.9984 0 0 1-16.9984 16.9472h-7.7824a17.066667 17.066667 0 0 1-16.9984-16.981333v-112.861867h-51.6096v112.861867c0 9.386667-7.662933 16.981333-16.9984 16.981333h-7.7824c-9.386667 0-16.9984-7.799467-16.9984-16.9472V480.2048z m172.032 51.8656c0-11.741867 2.048-22.1184 6.144-31.1296s9.489067-16.452267 16.1792-22.3232a69.7344 69.7344 0 0 1 22.528-13.312c8.328533-3.003733 16.725333-4.5056 25.1904-4.5056s16.861867 1.501867 25.1904 4.5056c8.328533 3.003733 15.837867 7.441067 22.528 13.312 6.690133 5.870933 12.0832 13.312 16.1792 22.3232s6.144 19.387733 6.144 31.1296V686.08c0 12.014933-2.048 22.459733-6.144 31.3344s-9.489067 16.247467-16.1792 22.1184a69.7344 69.7344 0 0 1-22.528 13.312c-8.328533 3.003733-16.725333 4.5056-25.1904 4.5056s-16.861867-1.501867-25.1904-4.5056a69.7344 69.7344 0 0 1-22.528-13.312 65.416533 65.416533 0 0 1-16.1792-22.1184c-4.096-8.874667-6.144-19.319467-6.144-31.3344v-154.0096z m41.7792 154.0096c0 10.103467 2.798933 17.544533 8.3968 22.3232 5.597867 4.778667 12.219733 7.168 19.8656 7.168 7.645867 0 14.267733-2.389333 19.8656-7.168 5.597867-4.778667 8.3968-12.219733 8.3968-22.3232v-154.0096c0-10.103467-2.798933-17.544533-8.3968-22.3232a29.610667 29.610667 0 0 0-19.8656-7.168c-7.645867 0-14.267733 2.389333-19.8656 7.168-5.597867 4.778667-8.3968 12.219733-8.3968 22.3232V686.08z m162.6112-183.5008h-31.4368a16.913067 16.913067 0 0 1-16.896-16.896v-5.5296c0-9.335467 7.645867-16.896 16.981334-16.896h104.482133c9.386667 0 16.981333 7.5776 16.981333 16.896v5.5296a16.896 16.896 0 0 1-16.896 16.896h-31.4368v235.3664a16.9984 16.9984 0 0 1-16.9984 16.9472h-7.7824a16.9472 16.9472 0 0 1-16.9984-16.9472V502.5792z\"></path>\r\n                    </svg>\r\n                    Popular by day\r\n                    {showDatePicker ?\r\n                        <DatePicker setShowDatePicker={setShowDatePicker} />\r\n                        :\r\n                        <svg className=\"icon delete\" onClick={changeTime} viewBox=\"0 0 1024 1024\">\r\n                            <path d=\"M730.492 991.707c-139.125 0-251.901-112.725-251.901-251.783 0-139.05 112.777-251.782 251.901-251.782 139.13 0 251.905 112.732 251.905 251.782 0 139.058-112.776 251.783-251.905 251.783zM730.614 535.999c-112.659 0-203.999 91.341-203.999 203.999s91.341 203.999 203.999 203.999 203.999-91.341 203.999-203.999-91.34-203.999-203.999-203.999zM833.022 822.845l-124.055-48.525c-0.047-0.028-0.075-0.075-0.145-0.098-1.317-0.577-2.348-1.561-3.548-2.348-1.298-0.844-2.766-1.491-3.844-2.569-2.878-2.883-4.608-6.647-5.662-10.706-0.553-1.969-1.106-3.891-1.153-5.953l0-121.584c0-12.741 10.322-23.062 23.063-23.062l1.875 0c12.741 0 23.063 10.322 23.063 23.062l0 106.078 105.459 41.259c11.4 4.463 17.302 18.023 13.148 30.309-4.177 12.267-16.8 18.6-28.2 14.137zM766.614 199.761c0-26.522-21.478-48-48-48l-48 0 0-47.761 48 0c53.016 0 96 42.984 96 96l0 252.142c-15.525-4.512-31.561-7.8-48-9.792l0-242.589zM623.551 224l-1.875 0c-12.741 0-23.062-10.319-23.062-23.064l0-145.87c0-12.745 10.322-23.064 23.062-23.064l1.875 0c12.741 0 23.062 10.319 23.062 23.064l0 145.87c0 12.744-10.322 23.064-23.062 23.064zM286.615 104l287.999 0 0 47.761-287.999 0 0-47.761zM239.55 224l-1.87 0c-12.745 0-23.064-10.319-23.064-23.064l0-145.87c-0.001-12.745 10.319-23.065 23.064-23.065l1.87 0c12.745 0 23.064 10.319 23.064 23.064l0 145.87c0 12.745-10.319 23.065-23.064 23.065zM238.615 366.703l0 2.592c0 12.553-10.153 22.703-22.703 22.703l-2.592 0c-12.55 0-22.703-10.15-22.703-22.703l0-2.592c0-12.553 10.153-22.703 22.703-22.703l2.592 0c12.55-0.001 22.703 10.15 22.703 22.703zM215.911 535.999l-2.592 0c-12.55 0-22.703-10.153-22.703-22.703l0-2.592c0-12.553 10.153-22.703 22.703-22.703l2.592 0c12.55 0 22.703 10.15 22.703 22.703l0 2.592c0 12.55-10.153 22.703-22.703 22.703zM238.615 657.292c0 12.553-10.153 22.706-22.703 22.706l-2.592 0c-12.55 0-22.703-10.153-22.703-22.706l0-2.587c0-12.553 10.153-22.706 22.703-22.706l2.592 0c12.55 0 22.703 10.153 22.703 22.706l0 2.587zM309.68 631.998l141.288 0c-5.977 15.459-10.969 31.416-14.33 48l-126.958 0c-12.745 0-23.064-10.322-23.064-23.063l0-1.847c-0.001-12.769 10.319-23.091 23.064-23.091zM286.615 369.511l0-3c0-12.431 10.08-22.511 22.488-22.511l363.021 0c12.412 0 22.491 10.081 22.491 22.511l0 3c0 12.408-10.078 22.488-22.491 22.488l-363.02 0c-12.408 0-22.489-10.08-22.489-22.488zM309.68 535.999c-12.745 0-23.064-10.322-23.064-23.064l0-1.87c0-12.745 10.319-23.064 23.064-23.064l258.527 0c-21.023 13.584-40.153 29.737-57.117 48l-201.41 0zM94.616 199.761l0 623.998c0 26.517 21.48 48 48 48l318.791 0c8.377 17.063 18.288 33.192 29.616 48.239l-348.407 0c-53.016 0-96-42.984-96-96l0-623.998c0-53.016 42.984-96 96-96l48 0 0 47.761-48 0c-26.52 0-48 21.478-48 48z\"></path>\r\n                        </svg>\r\n                    }\r\n                </span>\r\n                <span className=\"title\" onClick={onExpand}>\r\n                    <svg className={isExpanded ? \"icon arrow expanded\" : \"icon arrow\"} viewBox=\"0 0 1024 1024\">\r\n                        <path d=\"M64 512C64 264.576 264.576 64 512 64s448 200.576 448 448-200.576 448-448 448S64 759.424 64 512z m64 0c0 212.077 171.923 384 384 384s384-171.923 384-384-171.923-384-384-384-384 171.923-384 384z m165.552-36.207c-12.595-12.305-12.755-32.414-0.357-44.915 12.273-12.376 32.254-12.656 44.873-0.72l0.38 0.365 168.893 165.005a8 8 0 0 0 11.213-0.031l166.872-164.85c12.4-12.25 32.383-12.327 44.878-0.264l0.376 0.37c12.343 12.307 12.42 32.14 0.266 44.542l-0.372 0.374L546.76 657.256c-18.623 18.398-48.552 18.48-67.277 0.187l-185.931-181.65z\"></path>\r\n                    </svg>\r\n                    <p>Tags</p>\r\n                </span>\r\n                {isExpanded &&\r\n                    (<div className=\"breedlist\">\r\n                        {Object.keys(breeds).map((breed) =>\r\n                            <div className={slectId === breed ? \"breed active\" : \"breed\"} key={breed}\r\n                                onClick={(e) => onSelect(e, breed)}\r\n                                onMouseEnter={() => onHover(breed)}\r\n                                onMouseLeave={offHover}\r\n                            >\r\n                                {breed}\r\n                                <span className=\"count\">\r\n                                    {\"  \" + breeds[breed].length}\r\n                                </span>\r\n                            </div>\r\n                        )}\r\n                    </div>)\r\n                }\r\n                <BoxborderResizer width={sideWidth} setWidth={setSideWidth} />\r\n            </div>\r\n            {showDialog.isShow &&\r\n                (<Dialog showDialog={showDialog} setShowDialog={setShowDialog} />)}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default memo(SideBar);\r\n","export default __webpack_public_path__ + \"static/media/loading.64bb1951.gif\";","import React, { useEffect, useState, memo } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport Button from '../Button'\r\nimport './style.css'\r\n\r\nconst HoverMenu = ({ position, btnList }) => {\r\n    const [container] = useState(document.createElement('div'))\r\n\r\n    useEffect(() => {\r\n        document.body.appendChild(container)\r\n        return () => {\r\n            document.body.removeChild(container)\r\n        }\r\n    })\r\n\r\n    const style = { top: position.y + 10, left: position.x - 50 }\r\n\r\n    if (position.up) {\r\n        style.top -= 8 * btnList.length\r\n    }\r\n\r\n    return createPortal(\r\n        <>\r\n            <ul className={position.up ? \"hover-down-menu\" : \"hover-up-menu\"}\r\n                style={style}\r\n            >\r\n                {btnList.map((btn, i) =>\r\n                    <Button key={i} info={btn.btnInfo} fn={btn.btnFn} />\r\n                )}\r\n            </ul>\r\n        </>\r\n        , container)\r\n}\r\n\r\nexport default memo(HoverMenu);\r\n","import React, { useEffect, useState, useRef, memo } from 'react';\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { changeIsShow, changePage, collectionManager } from '../../store/actions';\r\nimport { collections, addCollection, downloadPicture } from '../../models/index'\r\nimport { getCollectList, getEachImgTag } from '../../utils/functions'\r\nimport loading from '../../assets/loading.gif';\r\nimport Dialog from '../Dialog/Dialog';\r\nimport HoverMenu from '../HoverMenu'\r\nimport FloatList from '../FloatList';\r\nimport './style.css';\r\n\r\nconst ImageBox = ({ image, isSelected, isCollected }) => {\r\n  const imgList = useSelector(state => state.img.imgList)\r\n  const pageOffset = useSelector(state => state.showType.scrollTop)\r\n  const api = useSelector(state => state.api.api)\r\n  const [showHoverMenu, setShowHoverMenu] = useState(false);\r\n  const [showDialog, setShowDialog] = useState({ isShow: false, title: \"\", type: \"text\", message: \"\", confirm: null });\r\n  const [isHover, setIsHover] = useState(false);\r\n  const [position, setPosition] = useState({ x: 0, y: 0, up: false });\r\n  const [listPosition, setListPosition] = useState({ x: 0, y: 0, up: false });\r\n  const [btnList, setBtnList] = useState([{ btnInfo: '显示图片', btnFn: {} }])\r\n  const [showTags, setShowTags] = useState(false)\r\n  const [showImg, setShowImg] = useState(false)\r\n  const [tags, setTags] = useState([])\r\n  const boxDom = useRef(null)\r\n  const menuAction = useRef(null);\r\n  const imageDom = useRef(null)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    const wh = window.innerHeight\r\n    const rect = boxDom.current.getBoundingClientRect()\r\n    if (rect.bottom > 80 && rect.top < wh) {\r\n      setShowImg(true)\r\n    } else {\r\n      setShowImg(false)\r\n    }\r\n  }, [pageOffset])\r\n\r\n  useEffect(() => {\r\n    setShowHoverMenu(false)\r\n    setShowTags(false)\r\n    const collectFn = () => {\r\n      if (isCollected) {\r\n        localStorage.removeItem(image.id)\r\n        dispatch(collectionManager(getCollectList(collections())))\r\n      } else {\r\n        const collectList = []\r\n        collectList.push(image)\r\n        addCollection(image.id, collectList)\r\n        dispatch(collectionManager(getCollectList(collections())))\r\n      }\r\n    }\r\n\r\n    const showTags = (e) => {\r\n      const tagList = getEachImgTag(image)\r\n      setTags(tagList)\r\n      const width = window.innerWidth\r\n      const rect = e.target.getBoundingClientRect()\r\n\r\n      let x = rect.left + 0.5 * (rect.right - rect.left);\r\n      let y = rect.top\r\n\r\n      if (width - (x + 100) < 100) {\r\n        x -= 250\r\n      } else {\r\n        x += 50\r\n      }\r\n\r\n      setListPosition({ x: x, y: y, up: true });\r\n\r\n      setShowTags(true)\r\n    }\r\n\r\n    const downloadFn = () => {\r\n      downloadPicture(image, api)\r\n    }\r\n    setBtnList([{ btnInfo: isCollected ? '取消收藏' : '收藏', btnFn: collectFn }, { btnInfo: 'Tag', btnFn: showTags }, { btnInfo: '下载', btnFn: downloadFn }])\r\n  }, [isCollected, pageOffset, image, dispatch, imgList, history, api])\r\n\r\n  const onHover = () => {\r\n\r\n    const height = window.innerHeight;\r\n    const rect = menuAction.current.getBoundingClientRect()\r\n\r\n    let x = rect.left + 0.5 * (rect.right - rect.left);\r\n    let y = rect.bottom + pageOffset;\r\n\r\n    if ((height - rect.bottom) < 120) {\r\n      y = y - rect.height - 70;\r\n      setPosition({ x: x, y: y, up: true });\r\n    } else {\r\n      setPosition({ x: x, y: y, up: false })\r\n    }\r\n    setShowHoverMenu(true)\r\n  }\r\n\r\n  const offHover = () => {\r\n    setShowHoverMenu(false)\r\n    setShowTags(false)\r\n  }\r\n\r\n  const onClick = () => {\r\n    setShowDialog({ isShow: true, title: \"图片信息\", type: \"img\", message: image.sample_url, confirm: null })\r\n  }\r\n\r\n  const onLoad = () => {\r\n    imageDom.current.src = imageDom.current.getAttribute('data-src')\r\n  }\r\n\r\n  const btnFn = (e, tag) => {\r\n    e.preventDefault()\r\n    setShowTags(false)\r\n    if (history.location.pathname !== \"/search/\" + tag) {\r\n      dispatch(changePage(1))\r\n      dispatch(changeIsShow(true))\r\n      history.push(\"/search/\" + tag + \"/page=\" + 1)\r\n    } else {\r\n      console.log(\"已在当前页\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={isSelected ? \"imgbox selected\" : \"imgbox\"}\r\n        key={image.id}\r\n        onMouseEnter={() => setIsHover(true)}\r\n        onMouseLeave={() => setIsHover(false)}\r\n        ref={boxDom}\r\n      >\r\n        {showImg && <img\r\n          className=\"cat-image\"\r\n          ref={imageDom}\r\n          alt={image.id}\r\n          onLoad={onLoad}\r\n          src={loading}\r\n          data-src={image.preview_url}\r\n          onClick={onClick}\r\n        />}\r\n        {isHover &&\r\n          <div\r\n            ref={menuAction}\r\n            className=\"action-menu\"\r\n            onMouseEnter={onHover} onMouseLeave={offHover}\r\n          >\r\n            <div className=\"menu-top\"></div>\r\n            <svg className=\"edit-icon\" viewBox=\"0 0 1024 1024\">\r\n              <path d=\"M919.9 461.7c-27.7 0-50 21.8-50 48.8v373.3c0 13.3-11.4 24.5-24.9 24.5H152.8c-13.6 0-25.1-11.2-25.1-24.5V137.2c0-13.3 11.5-24.5 25.1-24.5h372c27.5 0 49.9-21.8 49.9-48.8S552.3 15 524.8 15h-372C83.9 15 28 69.8 28 137.2v746.7c0 67.4 55.9 122.1 124.8 122.1H845c68.8 0 124.7-54.7 124.7-122.1V510.5c0.1-26.9-22.3-48.8-49.8-48.8z\" fill=\"#1296DB\" p-id=\"5113\"></path><path d=\"M1007.1 26.3c-19.8-16.9-49.6-14.6-66.5 5.3L380.7 688c-17 19.8-14.6 49.6 5.2 66.5 8.9 7.6 19.7 11.3 30.6 11.3 13.4 0 26.6-5.6 35.9-16.5l560-656.4c16.9-19.9 14.5-49.6-5.3-66.6z\" fill=\"#1296DB\"></path>\r\n            </svg>\r\n            <div className=\"menu-bottom\"></div>\r\n            {showHoverMenu &&\r\n              <HoverMenu position={position} btnList={btnList} />\r\n            }\r\n            {showTags && <FloatList position={listPosition} list={tags} fn={btnFn} />}\r\n          </div>\r\n        }\r\n      </div>\r\n      {showDialog.isShow &&\r\n        (<Dialog showDialog={showDialog} setShowDialog={setShowDialog} />)}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default memo(ImageBox);\r\n","import React, { useEffect, useRef, useState, memo } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { changeIsShow, changePage, collectionManager } from '../../store/actions'\r\nimport { collections, addCollection, downloadPicture } from '../../models'\r\nimport { getCollectList } from '../../utils/functions'\r\nimport Dialog from '../Dialog/Dialog';\r\nimport loading from '../../assets/loading.gif'\r\nimport './style.css'\r\n\r\nconst ImageList = ({ image, isCollected }) => {\r\n  const pageOffset = useSelector(state => state.showType.scrollTop)\r\n  const [taglist, setTaglist] = useState([])\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const [showDialog, setShowDialog] = useState({ isShow: false, title: \"\", type: \"text\", message: \"\", confirm: null });\r\n  const [style, setStyle] = useState({})\r\n  const [showImg, setShowImg] = useState(false)\r\n  const liDom = useRef(null)\r\n  const imageDom = useRef(null)\r\n\r\n  useEffect(() => setTaglist(image.tags.split(\" \")), [image])\r\n  useEffect(() => {\r\n    if (isCollected) {\r\n      setStyle({ fill: \"#fff\", background: \"violet\" })\r\n    }\r\n  }, [isCollected])\r\n\r\n  // 当容器滚动时判断哪些图片可视\r\n  useEffect(() => {\r\n    const wh = window.innerHeight\r\n    const rect = liDom.current.getBoundingClientRect()\r\n    if (rect.bottom > 80 && rect.top < wh) {\r\n      setShowImg(true)\r\n    } else {\r\n      setShowImg(false)\r\n    }\r\n  }, [pageOffset])\r\n\r\n  const onLoad = () => {\r\n    imageDom.current.src = image.preview_url\r\n  }\r\n\r\n  const showPic = () => {\r\n    setShowDialog({ isShow: true, title: \"图片信息\", type: \"img\", message: image.sample_url, confirm: null })\r\n  }\r\n\r\n  const tagFn = (e, tag) => {\r\n    e.preventDefault()\r\n    if (history.location.pathname !== \"/search/\" + tag) {\r\n      dispatch(changePage(1))\r\n      dispatch(changeIsShow(true))\r\n      history.push(\"/search/\" + tag + \"/page=\" + 1)\r\n    } else {\r\n      console.log(\"已在当前页\")\r\n    }\r\n  }\r\n\r\n  const collectFn = () => {\r\n    if (isCollected) {\r\n      setStyle({ fill: \"#8a8a8a\" })\r\n      localStorage.removeItem(image.id)\r\n      dispatch(collectionManager(getCollectList(collections())))\r\n    } else {\r\n      const collectList = []\r\n      collectList.push(image)\r\n      addCollection(image.id, collectList)\r\n      dispatch(collectionManager(getCollectList(collections())))\r\n    }\r\n  }\r\n\r\n  const dlFn = () => {\r\n    downloadPicture(image)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <li className=\"imginfo-list\" ref={liDom}>\r\n        <div className=\"infolist-imgbox\">\r\n          {showImg && <img className=\"img-show\"\r\n            ref={imageDom}\r\n            onLoad={onLoad}\r\n            src={loading}\r\n            alt={image.id}\r\n            onClick={showPic}\r\n          />}\r\n        </div>\r\n        <div className=\"infolist-list\">\r\n          <div className=\"img-taglist\">\r\n            {taglist.map((tag, i) =>\r\n              <div key={i} className=\"img-tag\" onClick={(e) => tagFn(e, tag)}>\r\n                {tag}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"img-actionlist\">\r\n            <span onClick={showPic}>\r\n              <svg viewBox=\"0 0 1024 1024\">\r\n                <path d=\"M987.52 367.36C879.36 220.8 720.64 128 543.36 128S208 220.8 99.2 367.36c-48 64.64-48 160.64 0 225.28C208 739.2 366.72 832 543.36 832c177.28 0 335.36-92.8 444.16-239.36 48-64.64 48-160.64 0-225.28z m-48 172.16C839.04 684.8 694.4 768 542.72 768s-296.32-83.2-396.8-228.48c-24.32-33.92-24.32-84.48 0-119.04C246.4 275.2 391.04 192 542.72 192s296.32 83.2 396.8 228.48c23.68 34.56 23.68 85.12 0 119.04zM544 256c-123.52 0-224 100.48-224 224s100.48 224 224 224 224-100.48 224-224-100.48-224-224-224z m0 384c-88.32 0-160-71.68-160-160s71.68-160 160-160 160 71.68 160 160-71.68 160-160 160z\"></path>\r\n              </svg>\r\n            </span>\r\n            <span onClick={collectFn}>\r\n              <svg style={style} viewBox=\"0 0 1024 1024\">\r\n                <path d=\"M511.3 767.9c-4.1 0-8.2-1.4-11.6-4.1-2.4-2-60.4-49.3-119.3-112.2-81.3-86.7-122.5-158.2-122.5-212.4 0-84.6 66.9-153.4 149.2-153.4 23.5 0 46.9 5.8 67.7 16.7 13.4 7 25.8 16.2 36.6 27.1 10.8-10.9 23.2-20.1 36.6-27.1 20.8-10.9 44.2-16.7 67.7-16.7 82.3 0 149.2 68.8 149.2 153.4 0 54.2-41.2 125.6-122.5 212.4-58.9 62.9-116.9 110.2-119.3 112.2-3.6 2.8-7.7 4.1-11.8 4.1zM407.1 322.6c-62 0-112.5 52.3-112.5 116.6 0 43.9 38.8 108.5 112.3 186.9 42 44.9 84.5 82.4 104.4 99.4 19.9-17 62.4-54.5 104.4-99.4C689.2 547.8 728 483.2 728 439.3c0-64.3-50.4-116.6-112.5-116.6-35.4 0-68 16.8-89.4 46.1-3.5 4.7-9 7.5-14.8 7.5-5.9 0-11.4-2.8-14.8-7.5-21.4-29.4-54-46.2-89.4-46.2z\"></path>\r\n                <path d=\"M511.3 977.9c-62.9 0-123.9-12.3-181.3-36.6-55.5-23.5-105.3-57-148-99.8-42.8-42.8-76.3-92.6-99.8-148-24.3-57.4-36.6-118.4-36.6-181.3s12.3-123.9 36.6-181.3c23.5-55.5 57-105.3 99.8-148 42.8-42.8 92.6-76.3 148-99.8 57.4-24.3 118.4-36.6 181.3-36.6 62.9 0 123.9 12.3 181.3 36.6 55.5 23.5 105.3 57 148 99.8 42.8 42.8 76.3 92.6 99.8 148 24.3 57.4 36.6 118.4 36.6 181.3s-12.3 123.9-36.6 181.3c-23.5 55.5-57 105.3-99.8 148-42.8 42.8-92.6 76.3-148 99.8-57.4 24.3-118.4 36.6-181.3 36.6z m0-894.6c-236.5 0-429 192.4-429 429 0 236.5 192.4 429 429 429 236.5 0 429-192.4 429-429s-192.4-429-429-429z\"></path>\r\n              </svg>\r\n            </span>\r\n            <span onClick={dlFn}>\r\n              <svg viewBox=\"0 0 1024 1024\">\r\n                <path d=\"M924.78 337.61A449.35 449.35 0 1 0 960 512a446.4 446.4 0 0 0-35.22-174.39zM512 896c-211.74 0-384-172.26-384-384s172.26-384 384-384 384 172.26 384 384-172.26 384-384 384z m202.83-383a32 32 0 0 1 0 45.26L534.32 738.85l-0.28 0.26-0.84 0.81h-0.06l-0.56 0.48-0.58 0.6-0.11 0.09c-0.2 0.17-0.41 0.32-0.61 0.48l-0.46 0.35-0.17 0.13c-0.21 0.16-0.43 0.3-0.65 0.46l-0.42 0.29-0.21 0.15-0.67 0.42-0.44 0.27-0.24 0.15-0.63 0.35-0.5 0.28-0.24 0.14-0.6 0.29-0.58 0.29-0.23 0.11-0.54 0.24-0.68 0.29-0.21 0.09-0.48 0.19-0.8 0.3-0.18 0.06-0.43 0.14-0.9 0.29h-0.14l-0.4 0.11-1 0.26h-0.13l-0.38 0.09-1 0.22h-0.1l-0.42 0.07-1 0.17h-0.09l-0.51 0.06-0.94 0.11H514.1l-0.75 0.06h-3.12l-0.73-0.06h-0.83l-0.92-0.11-0.53-0.06h-0.09l-1-0.17-0.44-0.07h-0.1l-1-0.22-0.41-0.09h-0.08L503 747l-0.42-0.11h-0.14l-0.88-0.28-0.45-0.15-0.18-0.06-0.78-0.3-0.5-0.19-0.2-0.09-0.68-0.29-0.55-0.24-0.23-0.11-0.57-0.29c-0.2-0.1-0.41-0.19-0.61-0.3l-0.23-0.13-0.5-0.27-0.65-0.37-0.22-0.13-0.45-0.29c-0.23-0.14-0.45-0.27-0.67-0.42l-0.19-0.13-0.47-0.32-0.66-0.46-0.14-0.12-0.54-0.41c-0.19-0.15-0.4-0.3-0.59-0.46l-0.1-0.08-0.71-0.62-0.43-0.36c-0.4-0.36-0.79-0.73-1.17-1.12L308.62 558.23A32 32 0 0 1 353.9 513l125.77 125.9-0.08-331.39a32 32 0 0 1 32-32 32 32 0 0 1 32 32l0.08 331.49 125.9-126a32 32 0 0 1 45.26 0z\"></path>\r\n              </svg>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </li>\r\n      {showDialog.isShow &&\r\n        (<Dialog showDialog={showDialog} setShowDialog={setShowDialog} />)}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default memo(ImageList);\r\n","import React, { useState, useRef, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { changeImgList } from '../../store/actions'\r\nimport './Img.css'\r\nimport ImageBox from '../../components/ImageBox'\r\nimport ImageList from '../../components/ImageList'\r\nimport { debounce } from '../../utils/functions'\r\nimport { getImgList, getRandomList, getSelectedImgList } from '../../models'\r\n\r\nconst Img = ({ images, barWidth, setShowLoading, limit }) => {\r\n    const currentPage = useSelector((state) => state.img.currentPage)\r\n    const hoverImgIds = useSelector(state => state.listWithTag.hasTag)\r\n    const collectIds = useSelector(state => state.collectList.collectList)\r\n    const showType = useSelector(state => state.showType.showType)\r\n    const pageOffset = useSelector(state => state.showType.scrollTop)\r\n    const api = useSelector(state => state.api.api)\r\n    const [listPage, setListPage] = useState(currentPage)\r\n    const [loading, setLoading] = useState(false)\r\n    const mainDom = useRef(null)\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory()\r\n\r\n    const loaction = history.location.pathname\r\n\r\n    const marginLeft = barWidth;\r\n\r\n    const style = { marginLeft: marginLeft }\r\n\r\n    // const prePage = () => {\r\n    //     if (currentPage === 1) {\r\n    //         return\r\n    //     } else {\r\n    //         setShowLoading(true)\r\n    //         dispatch(changePage(currentPage - 1))\r\n    //     }\r\n    // }\r\n\r\n    // const nextPage = () => {\r\n    //     setShowLoading(true)\r\n    //     dispatch(changePage(currentPage + 1))\r\n    // }\r\n\r\n    // 监听滚轮事件，顶部触发上一页，触底下一页\r\n    // useEffect(() => {\r\n    //   const wh = window.innerHeight\r\n    //   let mainDom = document.querySelector(\".mainbox\")\r\n    //   let shouldchange = false\r\n\r\n    //   if ((pageOffset + wh - 80) === mainDom.clientHeight) {\r\n    //     shouldchange = true\r\n    //   } else {\r\n    //     shouldchange = false\r\n    //   }\r\n\r\n    //   const mouseWheel = debounce((e) => {\r\n    //     if (e.deltaY > 0 && shouldchange) {\r\n    //       mainDom = document.querySelector(\".mainbox\")\r\n    //       dispatch(changePage(currentPage + 1))\r\n    //       shouldchange = false\r\n    //       window.removeEventListener(\"mousewheel\", mouseWheel)\r\n    //     }\r\n    //     if (pageOffset === 0 && currentPage !== 1 && e.deltaY < 0) {\r\n    //       dispatch(changePage(currentPage - 1))\r\n    //       window.removeEventListener(\"mousewheel\", mouseWheel)\r\n    //     }\r\n    //   }, 500)\r\n    //   window.addEventListener(\"mousewheel\", mouseWheel)\r\n\r\n    //   return () => { window.removeEventListener(\"mousewheel\", mouseWheel) }\r\n\r\n    //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    // }, [pageOffset])\r\n\r\n    // 另一种思路，将list变为无限滚动长列表\r\n    useEffect(() => {\r\n\r\n        setLoading(false)\r\n\r\n        const wh = window.innerHeight\r\n\r\n        let shouldchange = false\r\n\r\n        const isNeedScroll = !loaction.includes('collection') && !loaction.includes('popular')\r\n\r\n        const getFn = (listPage) => {\r\n            if (loaction.includes('random')) {\r\n                return getRandomList(api, listPage, limit)\r\n            } else if (loaction.includes('search')) {\r\n                const tag = loaction.split('/')[2]\r\n                return getSelectedImgList(api, tag, listPage, limit)\r\n            } else {\r\n                return getImgList(api, listPage, limit)\r\n            }\r\n        }\r\n\r\n\r\n        const fetchList = async (listPage) => {\r\n            window.removeEventListener('mousewheel', mouseWheel)\r\n            const defaultList = await getFn(listPage)\r\n            const pathArr = loaction.split('/')\r\n            pathArr.pop()\r\n            const path = pathArr.join('/')\r\n\r\n            history.push(path + \"/page=\" + listPage)\r\n\r\n            const newList = [...images, ...defaultList]\r\n            dispatch(changeImgList(newList))\r\n            window.scrollTo({\r\n                top: pageOffset - 1,    // -1防止重复触发换页\r\n                behavior: 'smooth'\r\n            })\r\n        }\r\n\r\n        const mouseWheel = debounce((e) => {\r\n            if (e.deltaY > 0 && shouldchange) {\r\n                shouldchange = false\r\n                fetchList(listPage + 1)\r\n                setListPage(listPage + 1)\r\n                setLoading(false)\r\n            }\r\n        }, 500)\r\n\r\n        if (isNeedScroll) {\r\n\r\n            if ((pageOffset + wh - 80) === mainDom.current.clientHeight) {\r\n                shouldchange = true\r\n                setLoading(true)\r\n            } else {\r\n                shouldchange = false\r\n            }\r\n\r\n            window.addEventListener('mousewheel', mouseWheel)\r\n            return () => { window.removeEventListener('mousewheel', mouseWheel) }\r\n        }\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loaction, history, images, pageOffset, listPage])\r\n\r\n    return (\r\n        <div\r\n            className={showType === 'grid' ? \"mainbox grid\" : \"mainbox flexlist\"}\r\n            style={showType === 'grid' ? style : { flexDirection: 'column', alignItems: 'start', ...style }}\r\n            ref={mainDom}\r\n        >\r\n            {showType === 'grid'\r\n                ?\r\n                <>\r\n                    {images.map((image) =>\r\n                        <ImageBox\r\n                            key={image.id}\r\n                            image={image}\r\n                            isSelected={hoverImgIds.includes(image.id)}\r\n                            isCollected={collectIds.includes(image.id)}\r\n                        />\r\n                    )}\r\n                    {/* 原始点击切换页面 */}\r\n                    {/* <svg className=\"prebtn\" onClick={prePage} style={currentPage === 1 ? { display: \"none\" } : style} viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\"><path d=\"M64 512C64 264.576 264.576 64 512 64s448 200.576 448 448-200.576 448-448 448S64 759.424 64 512z m64 0c0 212.077 171.923 384 384 384s384-171.923 384-384-171.923-384-384-384-384 171.923-384 384z m165.552-36.207c-12.595-12.305-12.755-32.414-0.357-44.915 12.273-12.376 32.254-12.656 44.873-0.72l0.38 0.365 168.893 165.005a8 8 0 0 0 11.213-0.031l166.872-164.85c12.4-12.25 32.383-12.327 44.878-0.264l0.376 0.37c12.343 12.307 12.42 32.14 0.266 44.542l-0.372 0.374L546.76 657.256c-18.623 18.398-48.552 18.48-67.277 0.187l-185.931-181.65z\"></path></svg> */}\r\n                    {/* <svg className=\"nextbtn\" onClick={nextPage} style={loaction.includes(\"collection\") ? { display: \"none\" } : null} viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\"><path d=\"M64 512C64 264.576 264.576 64 512 64s448 200.576 448 448-200.576 448-448 448S64 759.424 64 512z m64 0c0 212.077 171.923 384 384 384s384-171.923 384-384-171.923-384-384-384-384 171.923-384 384z m165.552-36.207c-12.595-12.305-12.755-32.414-0.357-44.915 12.273-12.376 32.254-12.656 44.873-0.72l0.38 0.365 168.893 165.005a8 8 0 0 0 11.213-0.031l166.872-164.85c12.4-12.25 32.383-12.327 44.878-0.264l0.376 0.37c12.343 12.307 12.42 32.14 0.266 44.542l-0.372 0.374L546.76 657.256c-18.623 18.398-48.552 18.48-67.277 0.187l-185.931-181.65z\"></path></svg> */}\r\n                </>\r\n                :\r\n                (<ul style={{ width: \"100%\" }}>\r\n                    {images.map((image) =>\r\n                        <ImageList\r\n                            key={image.id}\r\n                            image={image}\r\n                            isCollected={collectIds.includes(image.id)}\r\n                            limit={limit}\r\n                        />\r\n                    )}\r\n                </ul>)\r\n            }\r\n            {loading && (pageOffset !== 0) &&\r\n                <div\r\n                    className=\"loadinglist\"\r\n                    style={{ left: barWidth, width: window.innerWidth - barWidth }}>\r\n                    <div className=\"loading-wrapper\">\r\n                        <div className=\"loading-circle\"></div>\r\n                        <div className=\"loading-circle\"></div>\r\n                        <div className=\"loading-circle\"></div>\r\n                        <span>Loading</span>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Img;\r\n","import React from 'react'\r\nimport './style.css'\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className=\"cover\">\r\n      <div className=\"loading-wrapper\">\r\n        <div className=\"loading-circle\"></div>\r\n        <div className=\"loading-circle\"></div>\r\n        <div className=\"loading-circle\"></div>\r\n        <div className=\"loading-shadow\"></div>\r\n        <div className=\"loading-shadow\"></div>\r\n        <div className=\"loading-shadow\"></div>\r\n        <span>Loading</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { useHistory } from 'react-router-dom'\r\nimport { getImgList } from '../../models'\r\nimport { changeImgList, changeIsShow } from '../../store/actions'\r\nimport Img from '../Img/Img'\r\nimport Loading from '../Loading'\r\n\r\nconst IndexPage = ({ barWidth }) => {\r\n    const imgList = useSelector(state => state.img.imgList)\r\n    const currentPage = useSelector((state) => state.img.currentPage)\r\n    const api = useSelector(state => state.api.api)\r\n    const [showLoading, setShowLoading] = useState(false)\r\n    const [limit, setLimit] = useState(50)\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        setShowLoading(true)\r\n        const limit = Math.floor((window.innerWidth - barWidth - 120) / 260) * 10\r\n        setLimit(limit)\r\n        const fetchList = async (currentPage) => {\r\n            const defaultList = await getImgList(api, currentPage, limit)\r\n            history.push(\"/page=\" + currentPage)\r\n            window.scrollTo(0, 0)\r\n            dispatch(changeImgList(defaultList))\r\n            dispatch(changeIsShow(false))\r\n            setShowLoading(false)\r\n        }\r\n        fetchList(currentPage)\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [currentPage, api])\r\n\r\n    return (\r\n        <>\r\n            {showLoading && <Loading />}\r\n            <Img images={imgList} barWidth={barWidth} setShowLoading={setShowLoading} limit={limit} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default IndexPage\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { getSelectedImgList } from '../../models'\r\nimport { changeImgList, changeIsShow } from '../../store/actions'\r\nimport Img from '../Img/Img'\r\nimport Loading from '../Loading'\r\n\r\nconst SearchPage = ({ barWidth }) => {\r\n    const imgList = useSelector(state => state.img.imgList)\r\n    const currentPage = useSelector((state) => state.img.currentPage)\r\n    const api = useSelector(state => state.api.api)\r\n    const [showLoading, setShowLoading] = useState(false)\r\n    const dispatch = useDispatch();\r\n    const { tag } = useParams()\r\n    const history = useHistory()\r\n    const pathname = history.location.pathname\r\n    const path = pathname.substr(0, pathname.indexOf('='))\r\n\r\n    useEffect(() => {\r\n        setShowLoading(true)\r\n        window.scrollTo(0, 0)\r\n        const limit = Math.floor((window.innerWidth - barWidth - 120) / 260) * 10\r\n        const fetchList = async (currentPage) => {\r\n            const selectdedList = await getSelectedImgList(api, tag, currentPage, limit)\r\n            history.push(path + \"=\" + currentPage)\r\n            dispatch(changeImgList(selectdedList))\r\n            dispatch(changeIsShow(false))\r\n            setShowLoading(false)\r\n        }\r\n        fetchList(currentPage)\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [api, tag, currentPage])\r\n\r\n    return (\r\n        <>\r\n            {showLoading && <Loading />}\r\n            <Img images={imgList} barWidth={barWidth} setShowLoading={setShowLoading} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SearchPage\r\n","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { collections } from '../../models'\r\nimport { changeImgList, changeIsShow } from '../../store/actions'\r\n\r\nimport Img from '../Img/Img'\r\n\r\nconst CollectionPage = ({ barWidth }) => {\r\n  const imgList = useSelector(state => state.img.imgList)\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const collectList = collections()\r\n    dispatch(changeImgList(collectList))\r\n    dispatch(changeIsShow(false))\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <>\r\n      <Img images={imgList} barWidth={barWidth} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CollectionPage\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { getRandomList } from '../../models'\r\nimport { changeImgList, changeIsShow } from '../../store/actions'\r\nimport Img from '../Img/Img'\r\nimport Loading from '../Loading'\r\n\r\nconst RandomPage = ({ barWidth }) => {\r\n  const imgList = useSelector(state => state.img.imgList)\r\n  const currentPage = useSelector((state) => state.img.currentPage)\r\n  const api = useSelector(state => state.api.api)\r\n  const [showLoading, setShowLoading] = useState(false)\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const limit = Math.floor((window.innerWidth - barWidth - 120) / 260) * 10\r\n    setShowLoading(true)\r\n    const fetchList = async (currentPage) => {\r\n      const defaultList = await getRandomList(api, currentPage, limit)\r\n      window.scrollTo(0, 0)\r\n      dispatch(changeImgList(defaultList))\r\n      dispatch(changeIsShow(false))\r\n      setShowLoading(false)\r\n    }\r\n    fetchList(currentPage)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentPage, api, dispatch])\r\n\r\n  return (\r\n    <>\r\n      {showLoading && <Loading />}\r\n      <Img images={imgList} barWidth={barWidth} setShowLoading={setShowLoading} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default RandomPage\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { useParams } from 'react-router-dom'\r\nimport { getPopList } from '../../models'\r\nimport { changeImgList, changeIsShow } from '../../store/actions'\r\nimport Img from '../Img/Img'\r\nimport Loading from '../Loading'\r\n\r\nconst PopPage = ({ barWidth }) => {\r\n  const imgList = useSelector(state => state.img.imgList)\r\n  const api = useSelector(state => state.api.api)\r\n  const [showLoading, setShowLoading] = useState(false)\r\n  const dispatch = useDispatch();\r\n  const { date } = useParams()\r\n\r\n  useEffect(() => {\r\n    const limit = Math.floor((window.innerWidth - barWidth - 120) / 260) * 10\r\n    const fetchList = async () => {\r\n      const dateSplit = date.split('-')\r\n      const defaultList = await getPopList(api, dateSplit, limit)\r\n      window.scrollTo(0, 0)\r\n      dispatch(changeImgList(defaultList))\r\n      dispatch(changeIsShow(false))\r\n      setShowLoading(false)\r\n    }\r\n    fetchList()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [date, api, dispatch])\r\n\r\n  return (\r\n    <>\r\n      {showLoading && <Loading />}\r\n      <Img images={imgList} barWidth={barWidth} setShowLoading={setShowLoading} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PopPage\r\n","import React, { useEffect, useState } from 'react'\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport { useSelector } from 'react-redux';\r\nimport { getImgTagMap } from './utils/functions'\r\nimport './App.css';\r\nimport Top from './pages/Top/Top'\r\nimport SideBar from './pages/SideBar'\r\nimport IndexPage from './pages/IndexPage'\r\nimport SearchPage from './pages/SearchPage'\r\nimport CollectionPage from './pages/CollectionPage'\r\nimport RandomPage from './pages/RandomPage'\r\nimport PopPage from './pages/PopPage'\r\nimport Loading from './pages/Loading'\r\n\r\nconst App = () => {\r\n    const isLoading = useSelector(state => state.showType.isShow)\r\n    const imgList = useSelector(state => state.img.imgList)\r\n    const [tags, setTags] = useState([]);\r\n    const [barWidth, setBarWidth] = useState(300)\r\n\r\n    useEffect(() => {\r\n        const tagList = getImgTagMap(imgList)\r\n        setTags(tagList)\r\n    }, [imgList])\r\n\r\n    return (\r\n\r\n        <Router basename=\"/Moe-pics\">\r\n            {isLoading && <Loading />}\r\n            <Top />\r\n            <SideBar breeds={tags} setBarWidth={setBarWidth} />\r\n            <Switch>\r\n                <Route path=\"/collection\">\r\n                    <CollectionPage barWidth={barWidth} />\r\n                </Route>\r\n                <Route path=\"/random\">\r\n                    <RandomPage barWidth={barWidth} />\r\n                </Route>\r\n                <Route path=\"/popular/:date\">\r\n                    <PopPage barWidth={barWidth} />\r\n                </Route>\r\n                <Route path=\"/search/:tag\">\r\n                    <SearchPage barWidth={barWidth} />\r\n                </Route>\r\n                <Route path=\"/\" >\r\n                    <IndexPage barWidth={barWidth} />\r\n                </Route>\r\n            </Switch>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport store from './store/index'\r\nimport { Provider } from 'react-redux'\r\n\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>, \r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}