import React, { useEffect, useState, memo } from 'react';
import { useHistory } from "react-router-dom"
import { useDispatch } from "react-redux";
import { listWithTag, changeIsShow, changePage } from '../../store/actions'
import { getDateFormat } from '../../utils/functions'
import './SideBar.css';
import BoxborderResizer from '../../components/BoxborderResizer';
import Dialog from '../../components/Dialog/Dialog';
import DatePicker from '../../components/DatePicker';


const SideBar = ({ breeds, setBarWidth }) => {
    const date = getDateFormat()
    const dispatch = useDispatch();
    const history = useHistory()
    const [sideWidth, setSideWidth] = useState(300)
    const [isExpanded, setisExpanded] = useState(false);
    const [slectId, setSelectId] = useState('');
    const [showDialog, setShowDialog] = useState({ isShow: false, title: "", type: "text", message: "", confirm: null });
    const [showDatePicker, setShowDatePicker] = useState(false);

    useEffect(() => setBarWidth(sideWidth), [sideWidth, setBarWidth])

    useEffect(() => {
        if (history.location.pathname === "/page=1") {
            const titleDom = document.querySelector('.title')
            titleDom.className = 'title active'
        }
        if (!history.location.pathname.includes('popular')) {
            setShowDatePicker(false)
        }
    }, [history.location.pathname])

    const style = {
        width: sideWidth
    }

    const onExpand = () => {
        setisExpanded(!isExpanded);
    }

    const onSelect = (e, breed) => {
        e.preventDefault()

        if (history.location.pathname !== "/search/" + breed) {
            dispatch(changeIsShow(true))
            dispatch(changePage(1))
            history.push("/search/" + breed + "/page=" + 1)
        } else {
            console.log("已在当前页")
        }

        setSelectId(breed)
    }

    const onHover = (breed) => {
        const hoverImgIds = breeds[breed]
        dispatch(listWithTag(hoverImgIds))
    }

    const offHover = () => {
        dispatch(listWithTag([]))
    }

    const showMainPage = (e) => {
        if (history.location.pathname !== "/page=1") {
            dispatch(changePage(1))
            const activeDom = document.querySelector(".title.active")
            if (!!activeDom) {
                activeDom.classList.remove("active")
            }
            e.target.className = "title active"
            dispatch(changeIsShow(true))
            history.push("/page=" + 1)
        } else {
            console.log("已在当前页")
        }
    }

    const showCollections = (e) => {
        const activeDom = document.querySelector(".title.active")
        if (!!activeDom) {
            activeDom.classList.remove("active")
        }
        e.target.className = "title active"

        if (history.location.pathname !== "/collection") {
            dispatch(changeIsShow(true))
            dispatch(changePage(1))
            history.push("/collection")
        } else {
            console.log("已在当前页")
        }
    }

    const showRandomPage = (e) => {
        const activeDom = document.querySelector(".title.active")
        if (!!activeDom) {
            activeDom.classList.remove("active")
        }
        e.target.className = "title active"
        if (history.location.pathname !== "/random") {
            dispatch(changeIsShow(true))
            dispatch(changePage(1))
            history.push("/random")
        } else {
            window.location.reload()
        }
    }

    const showPopPage = (e) => {
        const activeDom = document.querySelector(".title.active")
        if (!!activeDom) {
            activeDom.classList.remove("active")
        }
        e.target.className = "title active"
        if (history.location.pathname !== "/popular/" + date) {
            dispatch(changeIsShow(true))
            dispatch(changePage(1))
            history.push("/popular/" + date)
        }
    }

    const deleteAll = (e) => {
        e.stopPropagation();
        function delConfirm() {
            localStorage.clear()
        }
        setShowDialog({ isShow: true, title: "提示", type: "text", message: "确认删除全部收藏！", confirm: delConfirm })
    }

    const changeTime = (e) => {
        e.stopPropagation();
        setShowDatePicker(true)
    }


    return (
        <>
            <div className="sidebar" style={style}>
                <span className="title active" onClick={showMainPage}>
                    <svg t="1624242382801" className="icon" viewBox="0 0 1024 1024">
                        <path d="M512 64.050782c60.495816 0 119.153774 11.836583 174.345794 35.181267 53.335742 22.558785 101.245915 54.864562 142.401244 96.01989s73.461105 89.066525 96.01989 142.401244c23.344684 55.19202 35.181267 113.851001 35.181267 174.345794 0 60.494793-11.836583 119.153774-35.181267 174.345793-22.558785 53.334719-54.864562 101.245915-96.01989 142.401244s-89.066525 73.461105-142.401244 96.019891c-55.19202 23.344684-113.851001 35.181267-174.345794 35.181267s-119.153774-11.836583-174.345794-35.181267c-53.335742-22.558785-101.245915-54.864562-142.401244-96.019891S121.791857 739.679489 99.233072 686.34477c-23.344684-55.19202-35.181267-113.851001-35.181267-174.345793 0-60.495816 11.836583-119.153774 35.181267-174.345794 22.558785-53.335742 54.864562-101.245915 96.01989-142.401244s89.066525-73.461105 142.401244-96.01989c55.19202-23.344684 113.849978-35.181267 174.345794-35.181267m0-51.16531c-275.653107 0-499.114528 223.461421-499.114528 499.114528S236.346893 1011.114528 512 1011.114528s499.114528-223.461421 499.114528-499.114528S787.653107 12.885472 512 12.885472z"></path><path d="M786.310529 540.674063c-9.080819 9.135054-23.858384 9.135054-32.992415 0L512.162706 298.765501 310.500776 501.072113h14.669095c25.791409 0 46.693462 21.063735 46.693462 46.963615v24.985044h0.054235l0.160659 141.318586c1.558495 15.368012 7.469112 19.452028 24.502044 20.633946 19.773346-1.774413 21.976524-8.705266 22.138206-34.819017l-0.054235-58.569953c0.215918-25.684986 21.010523-46.532803 46.641273-46.532803h23.320125v-0.591471l46.747697-0.107447v0.697895h23.320125c25.791409 0 46.74872 21.010523 46.74872 46.963614v24.985045h0.053212l0.053212 28.479634 0.053212-6.824429c0 36.539194 0 44.544519 22.997783 46.317909 23.481807-1.934049 23.696702-10.156314 23.696702-46.317909l-0.322341 46.641274h0.376576l-0.214894-188.336436c0-12.94994 10.477632-23.480784 23.373337-23.480784 12.896728 0 23.320125 10.530844 23.320125 23.480784l0.161682 163.350368h-0.161682v24.932856c0 25.953092-20.902052 47.015803-46.693462 47.015803h-46.694485c-25.52228 0-46.048779-20.578688-46.586015-46.103014l-0.054235-59.912532-0.160659-5.963828c0 0.591471 0.160659 1.020236 0.160659 1.664919l-0.053212-30.573319h-7.254218l6.5553 0.053212 0.591471 28.855188c-1.181919-22.998807-6.502088-27.942399-28.693506-28.855188l-37.238112 0.053212c-20.903076 0.966001-26.114774 5.748934-27.296693 26.006303l0.053212 42.826388h-0.160659v24.932856c0 25.953092-20.903076 47.015803-46.748721 47.015803h-46.694485c-25.469068 0-45.941332-20.525476-46.478567-46.048779l-0.215918-188.819436-12.08934 0.054235 11.44568 0.052188 0.160659 31.541367c-0.537236-25.738198-4.459568-30.68179-28.210505-31.594579l-40.622186 0.106424c-6.5553 0.485047-13.219069-1.503237-18.162662-6.555299-9.135054-9.134031-9.135054-24.019043 0-33.20731l256.093633-256.898974c0.591471-0.697895 0.859577-1.611707 1.505283-2.25639 9.134031-9.188266 23.910573-9.188266 33.045627 0l0.376577 0.375553 257.598916 258.405281c9.137101 9.18929 9.137101 24.073278 0.002046 33.261545z m-180.705641 194.783265l11.498892-0.053212-11.498892-0.053212v0.106424z m-140.190903-68.080561l0.537236-25.898857h-0.591471l0.054235 25.898857z m-93.334735 68.080561l11.498892-0.053212-11.498892-0.053212v0.106424z m-47.393403-156.417469c0.107447 4.78191 0.107447 10.209526 0.107447 16.549931l-0.107447-16.549931z"></path>
                    </svg>
                    Main List
                </span>
                <span className="title" onClick={showCollections}>
                    <svg className="icon collect" viewBox="0 0 1024 1024">
                        <path d="M744.8 128H279.2c-21.3 0-38.7 17.4-38.7 38.7v690.5c0 13.7 7 26.1 18.8 33.2 11.7 7.1 26 7.5 38.1 1L512 777.7l214.6 113.7c5.7 3 11.9 4.6 18.1 4.6 6.9 0 13.8-1.9 19.9-5.6 11.7-7.1 18.7-19.5 18.7-33.2V166.7c0.2-21.3-17.2-38.7-38.5-38.7z m-12 709.5L530.1 730c-11.3-6-24.9-6-36.2 0L291.2 837.5V178.6h441.7v658.9z"></path>
                    </svg>
                    Collections
                    <svg className="icon delete" onClick={deleteAll} viewBox="0 0 1024 1024">
                        <path d="M478.817 289.946c0-20.188 16.543-36.451 36.45-36.451l0 0c19.907 0 36.452 16.542 36.452 36.451l0 552.932c0 20.187-16.545 36.451-36.452 36.451l0 0c-20.188 0-36.45-16.544-36.45-36.451L478.817 289.946 478.817 289.946zM306.938 289.946c0-20.188 16.263-36.451 36.451-36.451l0 0c20.188 0 36.45 16.542 36.45 36.451l0 552.932c0 20.187-16.542 36.451-36.45 36.451l0 0c-20.188 0-36.451-16.544-36.451-36.451L306.938 289.946 306.938 289.946zM650.417 289.946c0-20.188 16.543-36.451 36.45-36.451l0 0c20.189 0 36.451 16.542 36.451 36.451l0 552.932c0 20.187-16.544 36.451-36.451 36.451l0 0c-19.907 0-36.45-16.544-36.45-36.451L650.417 289.946 650.417 289.946zM952.68 110.776 809.118 110.776l-52.433 0L756.685 64.791c0-35.609-31.965-63.648-72.901-63.648L346.473 1.143c-40.938 0-72.901 28.039-72.901 63.648l0 45.705-52.434 0L71.688 110.496c-20.188 0-36.45 16.262-36.45 36.451s16.263 36.451 36.45 36.451l76.828 0L148.516 952.23c0 39.254 32.806 71.22 72.901 71.22l587.981 0c40.096 0 72.901-31.966 72.901-71.22L882.299 183.678l70.379 0c20.187 0 36.449-16.263 36.449-36.451C989.129 127.038 972.866 110.776 952.68 110.776L952.68 110.776zM346.473 74.324l337.311 0 0 36.452L346.473 110.776 346.473 74.324 346.473 74.324zM770.704 950.827c0 0-471.617 1.684-511.713 1.684s-37.853-41.218-37.853-41.218L221.138 218.727c0-42.06 35.609-35.049 35.609-35.049l89.726 0 337.311 0 82.436 0c0 0 42.899-2.524 42.899 35.049 0 37.572 0.561 660.882 0.561 696.212C809.679 949.987 770.704 950.827 770.704 950.827L770.704 950.827z"></path>
                    </svg>
                </span>
                <span className="title" onClick={showRandomPage}>
                    <svg className="icon" viewBox="0 0 1024 1024">
                        <path d="M512 50.033778C257.265778 50.033778 50.033778 257.265778 50.033778 512c0 254.72 207.232 461.966222 461.966222 461.966222S973.966222 766.72 973.966222 512C973.966222 257.265778 766.734222 50.033778 512 50.033778z m0 867.043555C288.64 917.077333 106.922667 735.36 106.922667 512S288.64 106.922667 512 106.922667 917.077333 288.64 917.077333 512 735.36 917.077333 512 917.077333z"></path><path d="M606.520889 166.954667a14.222222 14.222222 0 1 0-7.509333 27.448889C741.617778 233.386667 841.216 363.989333 841.216 512a14.222222 14.222222 0 1 0 28.444444 0c0-160.796444-108.202667-302.677333-263.139555-345.045333zM512 182.769778a343.822222 343.822222 0 0 1 19.2 0.526222 14.222222 14.222222 0 0 0 0.753778-28.416 371.171556 371.171556 0 0 0-19.939556-0.554667 14.222222 14.222222 0 1 0-0.014222 28.444445z"></path><path d="M596.579556 439.623111l0.668444 51.328c0.256 17.052444 13.838222 29.909333 31.672889 29.909333 6.556444 0 13.084444-1.792 19.057778-5.333333l106.552889-65.891555c9.841778-5.859556 15.445333-14.805333 15.303111-24.576-0.128-10.396444-6.599111-19.939556-17.393778-25.984l-106.197333-63.459556c-13.639111-7.608889-32.142222-5.390222-42.311112 4.949333a29.127111 29.127111 0 0 0-8.362666 21.105778l0.64 49.521778c-27.960889 1.038222-87.523556 13.169778-137.187556 90.154667-21.859556-56.32-53.930667-94.222222-95.672889-112.497778-62.478222-27.320889-122.453333-0.099556-124.984889 1.066666a14.222222 14.222222 0 1 0 12.003556 25.799112c0.512-0.256 50.730667-23.054222 101.589333-0.810667 38.784 16.967111 68.138667 55.779556 87.267556 115.328 0.426667 1.336889 0.938667 2.488889 1.379555 3.811555l-0.625777 1.223112c-75.733333 155.534222-186.040889 117.688889-190.620445 115.996444a14.293333 14.293333 0 0 0-18.304 8.362667c-2.730667 7.367111 0.995556 15.559111 8.362667 18.304 0.483556 0.170667 18.019556 6.385778 44.387555 6.385777 45.041778 0 115.811556-18.232889 170.993778-116.067555 40.163556 78.094222 105.6 88.675556 138.140445 88.675555 1.194667 0 2.133333-0.056889 3.242666-0.085333l-0.625777 48.867556c-0.128 8.021333 2.844444 15.544889 8.362666 21.134222 6.058667 6.144 14.833778 9.671111 24.135111 9.671111a37.831111 37.831111 0 0 0 18.517334-4.920889l105.500444-63.061333c11.121778-6.243556 17.592889-15.772444 17.720889-26.197334 0.128-9.756444-5.461333-18.716444-15.104-24.448l-106.979556-66.133333a36.864 36.864 0 0 0-18.816-5.219555c-17.834667 0-31.416889 12.856889-31.672888 29.937777l-0.682667 52.309334c-25.329778 1.422222-90.282667-4.352-124.913778-92.416 45.169778-83.783111 101.489778-95.772444 124.956445-96.739556z m31.502222-80.270222c1.052444 0 2.673778 0.199111 3.911111 0.881778l106.168889 63.445333c0.867556 0.483556 1.521778 0.952889 2.048 1.351111l-0.426667 0.284445-106.581333 65.891555c-5.248 3.143111-7.466667 1.194667-7.495111-0.625778l-1.479111-130.062222c0.554667-0.568889 1.962667-1.166222 3.854222-1.166222z m-2.389334 217.514667c0.014222-1.223111 1.109333-1.863111 3.228445-1.863112 0.995556 0 2.588444 0.227556 4.081778 1.137778l106.965333 66.119111 0.241778 0.142223c-0.568889 0.440889-1.336889 0.952889-2.360889 1.536l-105.472 63.047111c-4.536889 2.488889-7.210667 1.265778-8.348445-0.881778l1.664-129.237333z"></path>
                    </svg>
                    Random
                </span>
                <span className="title" onClick={showPopPage}>
                    <svg className="icon" viewBox="0 0 1024 1024">
                        <path d="M627.677867 203.1616c-12.322133-38.126933-33.416533-73.5232-60.689067-105.984a421.12 421.12 0 0 0-48.725333-49.066667 295.594667 295.594667 0 0 0-22.920534-18.0224c-18.909867-12.970667-44.049067 3.549867-39.594666 26.0608 0.034133 0.221867 0.187733 1.297067 0.392533 3.140267 1.3824 13.0048 0.682667 29.696-3.771733 48.605867-6.5536 27.767467-20.189867 55.176533-42.734934 81.134933-6.263467 7.2192-13.192533 14.267733-20.804266 21.128533-7.953067 7.202133-16.9472 14.660267-27.733334 23.108267-9.659733 7.5776-54.2208 40.994133-66.3552 50.517333-112.5376 88.183467-166.741333 175.377067-166.741333 319.488C128 821.521067 304.896 998.4 523.1104 998.4s395.1104-176.896 395.1104-395.1104c0-93.3376-39.850667-190.071467-105.8816-285.405867a930.628267 930.628267 0 0 0-71.645867-90.658133 800.426667 800.426667 0 0 0-23.722666-25.3952 404.104533 404.104533 0 0 0-9.352534-9.335467c-16.469333-15.6672-43.656533-3.720533-43.264 18.9952 0 0.768-0.034133 2.4576-0.187733 4.846934a133.905067 133.905067 0 0 1-1.536 13.038933 130.986667 130.986667 0 0 1-12.305067 38.126933c-3.413333 6.656-7.338667 12.7488-11.895466 18.261334 1.826133-25.873067-1.194667-53.0432-10.752-82.602667z m-99.8912-73.045333c23.313067 27.733333 41.079467 57.5488 51.2 88.797866 11.008 34.0992 10.786133 63.317333 3.7888 91.716267-1.143467 4.693333-4.778667 17.3056-4.676267 16.878933-1.245867 4.693333-1.809067 7.662933-1.570133 12.066134a26.333867 26.333867 0 0 0 34.901333 23.808c39.355733-13.141333 67.157333-38.7584 84.48-72.533334 4.181333-8.209067 7.645867-16.64 10.427733-25.1904a878.5408 878.5408 0 0 1 63.914667 81.373867c60.637867 87.552 96.768 175.274667 96.768 256.256 0 189.934933-153.975467 343.9104-343.893333 343.9104-189.952 0-343.927467-153.975467-343.927467-343.9104 0-126.088533 45.858133-199.850667 147.114667-279.210667 11.5712-9.0624 56.132267-42.496 66.372266-50.517333a568.610133 568.610133 0 0 0 30.446934-25.378133 295.2704 295.2704 0 0 0 25.156266-25.582934c33.672533-38.7584 51.131733-79.0016 57.258667-116.650666 7.594667 7.543467 15.0528 15.598933 22.237867 24.149333z"></path><path d="M290.133333 480.2048c0-9.3696 7.662933-16.9472 16.9984-16.9472h7.7824c9.386667 0 16.9984 7.6288 16.9984 17.1008v107.8272h51.6096v-107.8272c0-9.437867 7.662933-17.1008 16.9984-17.1008h7.7824c9.386667 0 16.9984 7.799467 16.9984 16.9472v257.7408a16.9984 16.9984 0 0 1-16.9984 16.9472h-7.7824a17.066667 17.066667 0 0 1-16.9984-16.981333v-112.861867h-51.6096v112.861867c0 9.386667-7.662933 16.981333-16.9984 16.981333h-7.7824c-9.386667 0-16.9984-7.799467-16.9984-16.9472V480.2048z m172.032 51.8656c0-11.741867 2.048-22.1184 6.144-31.1296s9.489067-16.452267 16.1792-22.3232a69.7344 69.7344 0 0 1 22.528-13.312c8.328533-3.003733 16.725333-4.5056 25.1904-4.5056s16.861867 1.501867 25.1904 4.5056c8.328533 3.003733 15.837867 7.441067 22.528 13.312 6.690133 5.870933 12.0832 13.312 16.1792 22.3232s6.144 19.387733 6.144 31.1296V686.08c0 12.014933-2.048 22.459733-6.144 31.3344s-9.489067 16.247467-16.1792 22.1184a69.7344 69.7344 0 0 1-22.528 13.312c-8.328533 3.003733-16.725333 4.5056-25.1904 4.5056s-16.861867-1.501867-25.1904-4.5056a69.7344 69.7344 0 0 1-22.528-13.312 65.416533 65.416533 0 0 1-16.1792-22.1184c-4.096-8.874667-6.144-19.319467-6.144-31.3344v-154.0096z m41.7792 154.0096c0 10.103467 2.798933 17.544533 8.3968 22.3232 5.597867 4.778667 12.219733 7.168 19.8656 7.168 7.645867 0 14.267733-2.389333 19.8656-7.168 5.597867-4.778667 8.3968-12.219733 8.3968-22.3232v-154.0096c0-10.103467-2.798933-17.544533-8.3968-22.3232a29.610667 29.610667 0 0 0-19.8656-7.168c-7.645867 0-14.267733 2.389333-19.8656 7.168-5.597867 4.778667-8.3968 12.219733-8.3968 22.3232V686.08z m162.6112-183.5008h-31.4368a16.913067 16.913067 0 0 1-16.896-16.896v-5.5296c0-9.335467 7.645867-16.896 16.981334-16.896h104.482133c9.386667 0 16.981333 7.5776 16.981333 16.896v5.5296a16.896 16.896 0 0 1-16.896 16.896h-31.4368v235.3664a16.9984 16.9984 0 0 1-16.9984 16.9472h-7.7824a16.9472 16.9472 0 0 1-16.9984-16.9472V502.5792z"></path>
                    </svg>
                    Popular by day
                    {showDatePicker ?
                        <DatePicker setShowDatePicker={setShowDatePicker} />
                        :
                        <svg className="icon delete" onClick={changeTime} viewBox="0 0 1024 1024">
                            <path d="M730.492 991.707c-139.125 0-251.901-112.725-251.901-251.783 0-139.05 112.777-251.782 251.901-251.782 139.13 0 251.905 112.732 251.905 251.782 0 139.058-112.776 251.783-251.905 251.783zM730.614 535.999c-112.659 0-203.999 91.341-203.999 203.999s91.341 203.999 203.999 203.999 203.999-91.341 203.999-203.999-91.34-203.999-203.999-203.999zM833.022 822.845l-124.055-48.525c-0.047-0.028-0.075-0.075-0.145-0.098-1.317-0.577-2.348-1.561-3.548-2.348-1.298-0.844-2.766-1.491-3.844-2.569-2.878-2.883-4.608-6.647-5.662-10.706-0.553-1.969-1.106-3.891-1.153-5.953l0-121.584c0-12.741 10.322-23.062 23.063-23.062l1.875 0c12.741 0 23.063 10.322 23.063 23.062l0 106.078 105.459 41.259c11.4 4.463 17.302 18.023 13.148 30.309-4.177 12.267-16.8 18.6-28.2 14.137zM766.614 199.761c0-26.522-21.478-48-48-48l-48 0 0-47.761 48 0c53.016 0 96 42.984 96 96l0 252.142c-15.525-4.512-31.561-7.8-48-9.792l0-242.589zM623.551 224l-1.875 0c-12.741 0-23.062-10.319-23.062-23.064l0-145.87c0-12.745 10.322-23.064 23.062-23.064l1.875 0c12.741 0 23.062 10.319 23.062 23.064l0 145.87c0 12.744-10.322 23.064-23.062 23.064zM286.615 104l287.999 0 0 47.761-287.999 0 0-47.761zM239.55 224l-1.87 0c-12.745 0-23.064-10.319-23.064-23.064l0-145.87c-0.001-12.745 10.319-23.065 23.064-23.065l1.87 0c12.745 0 23.064 10.319 23.064 23.064l0 145.87c0 12.745-10.319 23.065-23.064 23.065zM238.615 366.703l0 2.592c0 12.553-10.153 22.703-22.703 22.703l-2.592 0c-12.55 0-22.703-10.15-22.703-22.703l0-2.592c0-12.553 10.153-22.703 22.703-22.703l2.592 0c12.55-0.001 22.703 10.15 22.703 22.703zM215.911 535.999l-2.592 0c-12.55 0-22.703-10.153-22.703-22.703l0-2.592c0-12.553 10.153-22.703 22.703-22.703l2.592 0c12.55 0 22.703 10.15 22.703 22.703l0 2.592c0 12.55-10.153 22.703-22.703 22.703zM238.615 657.292c0 12.553-10.153 22.706-22.703 22.706l-2.592 0c-12.55 0-22.703-10.153-22.703-22.706l0-2.587c0-12.553 10.153-22.706 22.703-22.706l2.592 0c12.55 0 22.703 10.153 22.703 22.706l0 2.587zM309.68 631.998l141.288 0c-5.977 15.459-10.969 31.416-14.33 48l-126.958 0c-12.745 0-23.064-10.322-23.064-23.063l0-1.847c-0.001-12.769 10.319-23.091 23.064-23.091zM286.615 369.511l0-3c0-12.431 10.08-22.511 22.488-22.511l363.021 0c12.412 0 22.491 10.081 22.491 22.511l0 3c0 12.408-10.078 22.488-22.491 22.488l-363.02 0c-12.408 0-22.489-10.08-22.489-22.488zM309.68 535.999c-12.745 0-23.064-10.322-23.064-23.064l0-1.87c0-12.745 10.319-23.064 23.064-23.064l258.527 0c-21.023 13.584-40.153 29.737-57.117 48l-201.41 0zM94.616 199.761l0 623.998c0 26.517 21.48 48 48 48l318.791 0c8.377 17.063 18.288 33.192 29.616 48.239l-348.407 0c-53.016 0-96-42.984-96-96l0-623.998c0-53.016 42.984-96 96-96l48 0 0 47.761-48 0c-26.52 0-48 21.478-48 48z"></path>
                        </svg>
                    }
                </span>
                <span className="title" onClick={onExpand}>
                    <svg className={isExpanded ? "icon arrow expanded" : "icon arrow"} viewBox="0 0 1024 1024">
                        <path d="M64 512C64 264.576 264.576 64 512 64s448 200.576 448 448-200.576 448-448 448S64 759.424 64 512z m64 0c0 212.077 171.923 384 384 384s384-171.923 384-384-171.923-384-384-384-384 171.923-384 384z m165.552-36.207c-12.595-12.305-12.755-32.414-0.357-44.915 12.273-12.376 32.254-12.656 44.873-0.72l0.38 0.365 168.893 165.005a8 8 0 0 0 11.213-0.031l166.872-164.85c12.4-12.25 32.383-12.327 44.878-0.264l0.376 0.37c12.343 12.307 12.42 32.14 0.266 44.542l-0.372 0.374L546.76 657.256c-18.623 18.398-48.552 18.48-67.277 0.187l-185.931-181.65z"></path>
                    </svg>
                    <p>Tags</p>
                </span>
                {isExpanded &&
                    (<div className="breedlist">
                        {Object.keys(breeds).map((breed) =>
                            <div className={slectId === breed ? "breed active" : "breed"} key={breed}
                                onClick={(e) => onSelect(e, breed)}
                                onMouseEnter={() => onHover(breed)}
                                onMouseLeave={offHover}
                            >
                                {breed}
                                <span className="count">
                                    {"  " + breeds[breed].length}
                                </span>
                            </div>
                        )}
                    </div>)
                }
                <BoxborderResizer width={sideWidth} setWidth={setSideWidth} />
            </div>
            {showDialog.isShow &&
                (<Dialog showDialog={showDialog} setShowDialog={setShowDialog} />)}
        </>
    )
}

export default memo(SideBar);
